<!DOCTYPE HTML>
<html>
	<head>
		<title>菜单管理</title>
		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
		<meta http-equiv="description" content="this is my page">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="../../js/zTree/zTreeStyle/metroZJ.css"
			type="text/css" />
		<link rel="stylesheet" href="../../css/bootstrap.min.css"
			type="text/css"></link>
		<link rel="stylesheet" href="../../css/bootstrap-responsive.min.css"
			type="text/css" />
		<script type="text/javascript" src="../../js/jquery.js"></script>
		<script type="text/javascript" src="../../js/bootstrap.min.js"></script>
		<script type="text/javascript" src="zidingyicaidan.js"></script>
		<script type="text/javascript"
			src="../../js/zTree/jquery.ztree.all-3.5.min.js"></script>
		<script type="text/javascript" src="../../js/appCommonUtil.js"></script>
		<script type="text/javascript" src="../../js/appCommonCurdUtils.js"></script>
		<script type="text/javascript" src="../../js/common_validation.js"></script>
		<script type="text/javascript" src="../../js/common_utils.js"></script>
		<style type="text/css">
</style>
		<script type="text/javascript">
		//@@相当于当前树的配置表的id，根据他可以找到相应的树
		var grade_index;
		//@@判断是更新操作还是添加操作
		var updateOrAdd=0;//0代表更新1代表添加3代表添加根节点
		var setting = {
		data: {
			    simpleData: {
				enable: true,
				idKey:'id',
				piKey:'pid'
			},
			key:{name:"text"}
		},
		async: {},
		callback:{		
			//beforeRemove:beforeRemove,//点击删除时触发，用来提示用户是否确定删除
			//beforeEditName: beforeEditName,//点击编辑时触发，用来判断该节点是否能编辑
			//beforeRename:beforeRename,//编辑结束时触发，用来验证输入的数据是否符合要求
			//onRemove:onRemove,
			//onRename:onRename,//编辑后触发，用于操作后台
			//onClick:zTreeOnClick,//点击节点触发的事件
			//removeNode:removeNode
			},
		check: {
			enable: false,
			chkStyle: "checkbox",
			chkboxType: { "Y": "", "N": "" }
		}
		};
		$(document).ready(function(){	
			//getMenu();
			getItemTree();
		});
	   function getItemTree(){
	   var type = getQueryString("type");
		    var parentid=0;
			$("#treeDemo").html('');
			var jsons={};		
			var url="/"+PRJ_PATH+"/ZKM/ZKMCommonTree/getCaidanTreeNode_isStart.action";
			jsons.id='';
			jsons.type=type;
			var isStart='';		
				ajaxFunction(url,jsons,false,function (data){
					if(data.success){
					var commonTreeParam=data.data;
				for(var i=0;i<commonTreeParam.length;i++){
				    /*if(commonTreeParam[i].isStart==0){
				    isStart='';
				    }else{
				    isStart='已启用';
				    }
				    commonTreeParam[i].text=commonTreeParam[i].text+'('+isStart+')';*/
			   }	   
					$.fn.zTree.init($("#treeDemo"), setting, commonTreeParam);	
					var treeObj = $.fn.zTree.getZTreeObj("treeDemo"); 
					treeObj.expandAll(true);										
					}
					
				});			
			}
		</script>

	</head>
	<body>

		<table class="table table-bordered table-condensed">
			<tbody>
				<tr >
					<td style="">
						<div style="overflow-y: auto;">
							<ul id="treeDemo" class="ztree" style="overflow-y: auto;"></ul>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</body>
</html>

