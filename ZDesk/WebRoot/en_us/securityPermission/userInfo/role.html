<!DOCTYPE  HTML>
<html lang="en">
	<head>
		<title>角色模块管理</title>
		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3" />
		<meta http-equiv="description" content="this is my page" />
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta http-equiv=”X-UA-Compatible” content=”IE=EmulateIE8″ />
		<link rel="stylesheet" href="../../../css/bootstrap.min.css" type="text/css"></link>
		<link rel="stylesheet" href="../../../js/dataTables/css/jquery.dataTables.css" type="text/css"></link>
		<!-- bootstrap 与 datatable结合 -->
		<link rel="stylesheet" href="../../../js/dataTables/css/DT_bootstrap.css"
			type="text/css"></link>
		<link rel="stylesheet"
			href="../../../js/dataTables/css/Z_DataTalbeCheckBox.css" type="text/css"></link>
		<!-- 工具 -->
		<link rel="stylesheet"
			href="../../../js/dataTables/css/dataTables.tableTools.min.css"
			type="text/css"></link>
		<link rel="stylesheet" href="../../../js/dataTables/css/dataTables.colVis.min.css" type="text/css"></link>
		<!-- 动态列CSS -->
		<link rel="stylesheet" href="../../../demo/unicorn.main.css" type="text/css"></link>
		<link rel="stylesheet" href="../../../js/dataTables/css/font-awesome.css"></link>
		<script type="text/javascript" src="../../../js/jquery.js"></script>
		<script type="text/javascript" src="../../../js/bootstrap.js"></script>
		<script type="text/javascript"
			src="../../../js/dataTables/js/jquery.dataTables.js"></script>
		<script type="text/javascript"
			src="../../../js/dataTables/js/dataTables.colReorder.js"></script>
		<script type="text/javascript"
			src="../../../js/dataTables/js/dataTables.colVis.js"></script>
		<script type="text/javascript"
			src="../../../js/dataTables/js/dataTables.tableTools.min.js"></script>
		<script type="text/javascript"
			src="../../../js/dataTables/js/DT_bootstrap.js"></script>
		<script type="text/javascript" src="../../../js/appCommonCurdUtils.js"></script>
		<script type="text/javascript" src="../../../js/appCommonUtil.js"></script>
		<script language=javascript src='../../../js/artdialog/dialog-plus.js'></script>
		<link rel="stylesheet" href="../../../js/artdialog/ui-dialog.css"
			type="text/css"></link>
		<script type="text/javascript" src="../../../js/golbal_params.js"></script>
		<link rel="stylesheet" href="../../../js/comWindow/window.css"
			type="text/css"></link>
		<link rel="stylesheet" href="../../../js/comWindow/jquery-ui.min.css"
			type="text/css"></link>
		<script type="text/javascript" src="../../../js/comWindow/jquery-ui.min.js"></script>
		<script type="text/javascript" src="../../../js/comWindow/window.js"></script>


		<style type="text/css">
#test tr td:first-child {
	text-align: center;
}

/* fa-square-o */
#test tr td:first-child:before {
	content: "\f096";
	font-family: FontAwesome;
}

#test tr.active td:first-child:before {
	content: "\f046"; /* fa-check-square-o */
}

#myModal9 {
	min-width: 800px;
	max-height: 600px;
	margin-left: -30%;
}

#myModal9 .modal-body {
	max-height: 1000px;
}

#myModal9 .modal-body #ttt {
	width: 100%;
	min-height: 300px;
}

#myModal20 {
	min-width: 800px;
	max-height: 600px;
	margin-left: -30%;
}

#myModal20 .modal-body {
	max-height: 1000px;
}

#myModal20 .modal-body #ttt6 {
	width: 100%;
	min-height: 300px;
}

#myModal16 {
	min-width: 800px;
	max-height: 600px;
	margin-left: -30%;
}

#myModal16 .modal-body {
	max-height: 1000px;
}

#myModal16 .modal-body #ttt6 {
	width: 100%;
	min-height: 300px;
}

.sorting {
	text-align: center;
}

.dataTables_scrollBody {
	overflow-x: auto !important;
}
</style>

		<script type="text/javascript">
		var closeDialog;
		var url1="../permission/authorize.html?roleName=";   //全局url 为角色授权所用的url 
		 var m1;
		 var m2;
		 var m3;  
	    $(document).ready(function() { 
	   
			   clearForm();
			   var data=doSearch();
			   
		       $('#test').dataTable({
		        		       
		        bPaginate: true, //翻页功能
				bLengthChange: false, //改变每页显示数据数量
				bFilter: true, //过滤功能
				bSort: true, //排序功能
				bInfo: true,//页脚信息
				bAutoWidth: false, //自动宽度
				sPaginationType: "bootstrap",//分页样式				
				data:data,
			    dom: 'TRlrtip',
		        order: [ 1, 'des' ],
		        columns: [
					{ title:"<input type='checkbox' id='selectall' onclick='toggleChecks(this);'style='margin-left:37%'>",data: null, defaultContent: '', orderable: false ,width:30},
					{ 
					  title:"id" ,
					  data: 'id',
					  visible: false,
					  searchable: false
					},					
			       {"title":"角色名称" ,data: 'name',width:200},
			        {"title":"角色描述",data:'description',width:200 },
			        {"title":"viewIndex",data:'viewIndex',width:200}
		        ],
		        createdRow: function ( row, data, index ) {
		                $('td', row).eq(2).addClass('red');
		        } ,
		        //列筛选等属性 样式 可以与columns属性合并
		        oLanguage: {
					"sLengthMenu": "每页显示 _MENU_条",
					"sZeroRecords": "没有找到符合条件的数据",
					"sProcessing": "&lt;imgsrc=’./loading.gif’ /&gt;",
					"sInfo": "当前第 _START_ - _END_ 条　共计 _TOTAL_ 条",
					"sInfoEmpty": "无记录",
					"sInfoFiltered": "(从 _MAX_ 条记录中过滤)",
					"sSearch": "搜索：",
					"oPaginate": {
					"sFirst": "首页",
					"sPrevious": "前一页",
					"sNext": "后一页",
					"sLast": "尾页"
				    }
		        }, 
		        tableTools: {
		            fnRowSelected: function ( nodes ) {
		            changeBtn();
		               var index=nodes[0]._DT_RowIndex;	
		               var data = table.row(index).data();
		               initForm(data);
		                scroll2data("updateForm");
		            },
		             sRowSelect:'multi',
		            aButtons:     [ /*{
		                "sExtends":    "select_all",
		                "sButtonText": "选择全部",
		                "target":      "#select"
		              } , 'select_none' */]
		        }
		    }); 
		     //绑定事件 on
		     var table= $('#test').DataTable();
			 $('#test tbody').on( 'click', 'button', function (obj) {
			    var data = table.row( $(this).parents('tr') ).data();
			} );
		     var colvis = new $.fn.dataTable.ColVis(table,{ buttonText: '自定义显示列',exclude: [ 0 ,1] });
		    $( colvis.button()).insertBefore('#cols');  
			});
		 function appendSearchItem(formName){
				var pat = {};
				var temp = "{";
				var cfs=$("#"+formName+" input[name]");
				for(var i=0;i<cfs.length;i++){
				      var e=cfs[i];
				      if(e.value != '' && e.value !=null && e.value != undefined){
				        	temp += "'"+e.name+"':'"+e.value+"',";
				       }
				}
				temp = temp.substring(0,temp.length-1)+"}";
				if(temp.length != 1 && temp != ''){
					pat = eval("("+temp+")");
				}		
				return pat;
		}
		//通用查询
		function d(e){
				var s=dialog({
		    title: '为角色修改或添加用户',
		    content: '<iframe src='+e+' style="border: 0; width: 100%; height: 100%"  frameborder="0"/>',
		    width:'800',
		    height:'400'
		});
		s.show();
		return s;	
		}
		function e(e){
				var s=dialog({
		    title: '为角色授权',
		    content: '<iframe src='+e+' style="border: 0; width: 100%; height: 100%"  frameborder="0"/>',
		    width:'500',
		    height:'400'
		});
		s.show();
		return s;	
		}
		function f(e){
				var s=dialog({
		    title: '为角色修改或添加权限',
		    content: '<iframe src='+e+' style="border: 0; width: 100%; height: 100%"  frameborder="0"/>',
		    width:'800',
		    height:'400'
		});
		s.show();
		return s;	
		}
		function doSearch(){	
		//通用查询action路径
		   var url = "/" + window.top.PRJ_PATH + "/" + "ZKM/CommonsCurd" + "/" + "Find.action";		
		   var params={};
		   params.tableName ="suSecurityRole";
		   params.nameSpace ="com.zinglabs.apps.commons.pojo";
		   params.nameSpaceId = "getList";
		   var rdata=[];
		   	$.ajax({
				async :false,
				type : "post",
				url : url,
				dataType : "json",
				data : params,
				success : function(data) {
					if (data) {
		              rdata=data.rows;
					}
				},
				error : function(r){
				   //$("#myModal10").modal('show');		
				   zinglabs.i18n.alert('role_operationFailed');		
				}
				});
		     return rdata;
		}
		//条件查询使用
		function doSearch1(){  
		    var url = "/" + window.top.PRJ_PATH + "/" + "ZKM/RoleCurd" + "/" + "getRoleByRoleName.action";
		    var params={};
		     params.name=$("#name").val();
			 if(params.name=="" || params.name==null || params.name ==undefined){
					params.name="";
			 }
	        params.nameSpace ="com.zinglabs.apps.suPermission";
		    params.nameSpaceId = "getRoleByRoleName";
		    var rdata=[];
		   	$.ajax({
				async :false,
				type : "post",
				url : url,
				dataType : "json",
				data : params,
				success : function(data) {
					if (data) {
		              rdata=data.rows;
		              var table=$('#test').DataTable();
			   		  table.clear().draw();
			   		  table.rows.add(rdata).draw();	
					}else{
					var table=$('#test').DataTable();
			        table.clear().draw();
					 zinglabs.i18n.alert('role_nowantedData');
					}
				},
				error : function(r){
				}
				});
		     return rdata;
		}
		//获取选中行
		function fnGetSelected(){		
		     var table=$('#test').DataTable();
		     var tt = new $.fn.dataTable.TableTools(table);
		     var selectData=tt.fnGetSelectedData();
			 if(selectData.length<=0){
			      zinglabs.i18n.alert('system_selectDataForDelete');		
			 }else{
			     zinglabs.confirm(zinglabs.i18n.getText("system_deleteConfirmation"),function (){      
				    doDelete();
			    });
			      }
		}
		//删除
		function doDelete(){
			//$('#myModal3').modal("hide");
			changeBtn();
			var table=$('#test').DataTable();
			var tt = new $.fn.dataTable.TableTools(table);
			var selectData=tt.fnGetSelectedData();
			var param = '';
			for(var i in selectData){
				param = param + selectData[i].id+',';
			}
			var params1 = '';
			for(var i in selectData){
				params1 = params1 + '"'+selectData[i].name+'"'+',';
			}
				param = param.substr(0,param.length-1);
				params1 = params1.substr(0,params1.length-1);
			var url = "/" + window.top.PRJ_PATH + "/" + "ZKM/CommonsCurd" + "/" + "Delete.action";
		    var params={};
		    params.tableName ="suSecurityRole";
		    params.nameSpace ="com.zinglabs.apps.commons.pojo";
		    params.nameSpaceId = "del1";
		    params.primaryKey = "id";
		    params.primaryKeyValue = param;
			$.ajax({
				async :false,
				type : "post",
				url : url,
				dataType : "json",
				data : params,
				success : function(data) {
				if (data.success) {
					var url = "/" + window.top.PRJ_PATH + "/" + "ZKM/CommonsCurd" + "/" + "Delete.action";
					var params={};
					params.tableName ="suSecurityUserRole";
					params.nameSpace ="com.zinglabs.apps.commons.pojo";
					params.nameSpaceId = "del1";
					params.primaryKey = "roleId";
					params.primaryKeyValue = param;
					 $.ajax({
							async :false,
							type : "post",
							url : url,
							dataType : "json",
							data : params,
							success : function(data) {
							if (data.success) {				
							var url = "/" + window.top.PRJ_PATH + "/" + "ZKM/CommonsCurd" + "/" + "Delete.action";
							var params={};
						    params.tableName ="suSecurityRoleMapPermission";
						    params.nameSpace ="com.zinglabs.apps.commons.pojo";
						    params.nameSpaceId = "del1";
						    params.primaryKey = "roleCode";
						    params.primaryKeyValue = params1;
									$.ajax({
											async :false,
											type : "post",
											url : url,
											dataType : "json",
											data : params,
											success : function(data) {
												if (data.success) {						
												zinglabs.i18n.alert('system_deleteSuccess');		            
									             refresh();
							            
												}
											},
											error : function(r){
											   //$("#myModal10").modal('show');		
											   zinglabs.i18n.alert('role_operationFailed');		
											}
											});
					       }
				          },
						error : function(r){
						   //$("#myModal10").modal('show');			
						   zinglabs.i18n.alert('role_operationFailed');	
						}
				    });
			   }
				   },
				error : function(r){
				   //$("#myModal10").modal('show');	
				   zinglabs.i18n.alert('role_operationFailed');			
				}
				});
		 }		
		 //全选
		 function toggleChecks(obj){
		       var table=$('#test').DataTable();
		       var tableTools = new $.fn.dataTable.TableTools(table);		       		       
		       var ischeck=$("#selectall").is(':checked');
		       if(ischeck){
		         tableTools.fnSelectAll();
		       }else{
		         tableTools.fnSelectNone();
		       }
		      
		    }
		    //初始化表单
		 function initForm(data){
				var cfs=$("#updateForm input[name],textarea[name]");
				for(var i=0;i<cfs.length;i++){
				var e=cfs[i];					
				var v=data[e.name];
				if(v==undefined || v==null){
						v='';
				}
				$(e).val(v);						
				}
		  }
		  function zkm_getHtmlFormJsons(id){
	        var reData={};
			var jsons=$("#" + id).serializeArray();
			for(var i=0;i<jsons.length;i++){
				var data=jsons[i];
				var name=data.name;
				var value=data.value;
			if(value==undefined || value==null || value.length<0){
			value="";
			}
			if(name!=undefined && name!=null && name.length>0){
			reData[name]=$.trim(value);
			}
			}
		return reData;
		}
		  function clearForm(){
				var cfs=$("#updateForm input[name],textarea[name]");
				for(var i=0;i<cfs.length;i++){
					var e=cfs[i];					
					$(e).val('');
				}
				$("#name").val('');
		  }
		//每页显示条数
		function setPageNum(obj){
		  changeBtn();
		  var table=$('#test').DataTable();
		  table.page.len(obj.value).draw();
		}
		//刷新
		function refresh(){
		  changeBtn();
		  clearForm();
		  var table=$('#test').DataTable();
		     //清空筛选
		     table.search("").draw();
		     $("#shaixuan").val('');
		     //清空数据
		     table.clear().draw();
		     //重新加载数据
		     var data=doSearch(); 
		     table.rows.add(data).draw(true);
		}
		//更新
		function doUpdate(){
		    if($("#id").val()==''||$("#id").val()==null||$("#updateForm #name").val()==''||$("#updateForm #name").val()==null){
		    		 zinglabs.i18n.alert('system_updateFailed');
		    		return;
		    }
			var pat = zkm_getHtmlFormJsons('updateForm');
			pat.tableName = "suSecurityRole";
			pat.primaryKey = "id";
			pat.primaryKeyValue = $("#id").val();
			if(pat.description==""){
			   pat.description="无描述信息";
			}
		    commonUpdate(pat,function(data){
		    var json=eval('('+data+')');
				     if(json.success){
				         //成功的模态框
				         //$("#myModal").modal('show');
				         zinglabs.i18n.alert('system_updateSuccess');
				          refresh();
				      }else{
				         //失败的模态框
				         zinglabs.i18n.alert('system_updateFailed');
				       }
		     });
		}
		function GetSaveBtn(){
			clearForm();
			document.getElementById("sub_button_update").style.display="none" ;
			document.getElementById("sub_button_save").style.display="block" ;
			scroll2data("updateForm");
		}
		function changeBtn(){
			document.getElementById("sub_button_update").style.display="block" ;
			document.getElementById("sub_button_save").style.display="none" ;				
		}
		//为角色更新或添加用户
		function doUpdateOrAddUserForRole(){
		 var table=$('#test').DataTable();
		     var tt = new $.fn.dataTable.TableTools(table);
		     var selectData=tt.fnGetSelectedData();
			 if(selectData.length<=0){
			      zinglabs.i18n.alert('role_selectOneData');
			     return;	
			 }else if(selectData.length>=2){
			   zinglabs.i18n.alert('role_selectOneData');
			 return ;
			 }else{
			    var roleId=selectData[0].id;
			    //alert(roleId);
			    var url_RoleId="addUserForRole.html?roleId="+roleId+'&reFillFn=roleReFillFn';
			    zinglabs.confirm(zinglabs.i18n.getText("role_user"),function (){   						         
										     //$("#m2 #ttt").attr("src",url_RoleId);
		 									 //m2.open();	
		 									 closeDialog=d(url_RoleId);								   										   
									    });
			    
		        return;
			      }		      		
		}
		
		
		function roleReFillFn(data){
	if(data.success){
		window.closeDialog.close();
		zinglabs.i18n.alert('role_addOrupdateForRole');
	}
}

		//为角色添加或修改权限
		function doUpdateOrAddPermiForRole(){
		var table=$('#test').DataTable();
		     var tt = new $.fn.dataTable.TableTools(table);
		     var selectData=tt.fnGetSelectedData();
			 if(selectData.length<=0){
			    zinglabs.i18n.alert('role_selectOneData');	
			     return;	
			 }else if(selectData.length>=2){
			   zinglabs.i18n.alert('role_selectOneData');	
			 return ;
			 }else{
			    var roleName=selectData[0].name;
			    //alert(roleName);
			    var url_RoleName="../permission/authorize.html?roleName="+roleName;
			   zinglabs.confirm(zinglabs.i18n.getText("role_updatePermission"),function (){   						         
										     //$("#m3 #ttt").attr("src",url_RoleName);
		 									 //m3.open();
		 									 closeDialog=f(url_RoleName);										   										   
									    });
		        return;
			      }		
		}
		//保存
		function doSave(){
			if($("#updateForm #name").val()==''||$("#updateForm #name").val()==null){
					  zinglabs.i18n.alert('role_nameIsNotNull');
					 return;
			}
			var url = "/" + window.top.PRJ_PATH + "/" + "ZKM/RoleCurd" + "/" + "FindTeShu.action";
		    var params={};
			var params=zkm_getHtmlFormJsons('updateForm');
			params.table ="suSecurityRole";
	        params.nameSpace ="com.zinglabs.apps.suPermission";
		    params.nameSpaceId = "getListTeShu";
		    params.primaryKey = "name";
		   	var p=$("#updateForm #name").val();
		    params.primaryKeyValue = p;
				   	$.ajax({
						async :false,
						type : "post",
						url : url,
						dataType : "json",
						data : params,
						success : function(data) {
							if (data.success) {
				              zinglabs.i18n.alert('role_noSameName');
							}else{
								var pat = zkm_getHtmlFormJsons('updateForm');
								pat.tableName = "suSecurityRole";
								pat.primaryKey = "id";	
								pat.uuid=false;
								if(pat.viewIndex==""){
									delete pat.viewIndex;
								}
								if(pat.scoreWeight==""){
									delete pat.scoreWeight;
								}
								if(pat.description==""){
									delete pat.description;
								}
						        commonInsertAndGetId(pat,function(data){
						           if(data.success){
						              var id=data.data;
						              url1=url1+p;
						              //alert(url1);
						              //$("#myModal8").modal('show');
						              zinglabs.confirm(zinglabs.i18n.getText("role_permission"),function (){   						         
										     //$("#m1 #ttt").attr("src",url1);
		 									 //m1.open();
		 									 closeDialog=e(url1);									   										   
									    });
									   refresh(); 
						            }else{
						             zinglabs.i18n.alert('system_saveFailed');	
						            }
						        });
							}
						},
						error : function(r){
						  //$("#myModal10").modal('show');
						   zinglabs.i18n.alert('role_operationFailed');				
						}
					});
					
			}
		
			//授权
		function shouQuan(){    
		 //$('#myModal8').modal("hide");
		 $("#myModal9 #ttt").attr("src",url1);
		 $('#myModal9').modal('show');
		}
		//关闭按钮之后的操作
		function guanBi(){ 
		$('#myModal16').modal("hide");
		 $('#myModal8').modal("hide");   
		refresh();
		}
		function scroll2data(id){
		$("html,body").animate({scrollTop: $("#"+id).offset().top}, 1000); 
		}
    </script>
	</head>
	<body>
		<!-- 头 -->
		<div class="widget-box collapsible">
			<div class="widget-title"
				style="height: 40px; line-height: 40px; overflow: hidden;">

				<span class="icon" style="float: left; padding: 0px 10px;"> <i
					class="icon-search"></i> </span> &nbsp; 角色名称：
				<input id="name" name="name" class="input-medium search-query"
					type="text" value="" />
				&nbsp;

				<button type="button" class="btn" onclick="doSearch1();" id="sousuo">
					<i class="icon-search"></i> 搜 索
				</button>
				&nbsp;每页显示条数：
				<select name="pageSize" id="pageSize"
					style="width: 80px; margin-bottom: 0px;"
					onchange="setPageNum(this)">
					<option selected="selected" value="10">
						10
					</option>
					<option value="30">
						30
					</option>
					<option value="50">
						50
					</option>
					<option value="100">
						100
					</option>
					<option value="-1">
						全部
					</option>
				</select>
				&nbsp;
				
				<div id="cols"></div>
			</div>
		</div>
		<!-- class 或 = display -->
		<table class="table table-striped table-bordered "
			style="min-width: 300px" id="test" cellspacing="0">
		</table>
<div class="widget-box collapsible">
			<div class="widget-title"
				style="height: 40px; line-height: 40px; overflow: hidden;">
				<span class="icon" style="float: left; padding: 0px 10px;"><i
					class="icon-cog"></i> </span> &nbsp;&nbsp;&nbsp;
				<button type="button" class="btn" onclick="fnGetSelected()" id="shanchu">
					<i class="icon-trash"></i> 删 除
				</button>
				&nbsp;
				<a type="button" class="btn" onclick="GetSaveBtn()" id="tianjia"><i
					class="icon-plus"></i>添加</a>&nbsp;
				<button type="button" class="btn" onclick="refresh()" id="shuaxin">
					<i class="icon-refresh"></i>刷新
				</button>
				&nbsp;
				<button type="button" class="btn btn-defaul"
					onclick="doUpdateOrAddUserForRole()" id="xiugaiyonghu">
					<i class="icon-plus"></i>修改/添加用户
				</button>
				&nbsp;
				<button type="button" class="btn btn-defaul"
					onclick="doUpdateOrAddPermiForRole()" id="xiugaiquanxian">
					<i class="icon-plus"></i>修改/添加权限
				</button>
			</div>
		</div>
		
		
		<div id="update" style="overflow: auto;min-width: 300px">
			<form class="form-horizontal" id="updateForm">
				<!-- 栅格布局 -->
				<input type="hidden" id="id" name="id" placeholder="id">
				<div class="container">
					<div class="row">
						<div class="span6">
							<div class="control-group">
								<label class="control-label" for="name">
									角色名称：
								</label>
								<div class="controls">
									<input type="text" id="name" name="name" placeholder="请您填写角色名称">
								</div>
							</div>
							<div class="control-group">
								<label class="control-label" for="viewIndex">
									viewIndex：
								</label>
								<div class="controls">
									<input type="text" id="viewIndex" name="viewIndex"
										placeholder="请您填写排序序号">
								</div>
							</div>
						</div>

						<div class="span6">
							<div class="control-group">
								<label class="control-label" for="description">
									角色描述：
								</label>
								<div class="controls">
									<input type="text" id="description" name="description"
										placeholder="请您填写角色描述信息">
								</div>
							</div>
							<div class="control-group">
								<label class="control-label" for="scoreWeight">
									scoreWeight：
								</label>
								<div class="controls">
									<input type="text" id="scoreWeight" name="scoreWeight"
										placeholder="请您填写权值">
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="span12">
							<div class="control-group" style="display: block;margin-left: 280px "
								id="sub_button_update">
								<div class="controls">
									<button type="button" id="btn_submit" class="btn"
										style="padding-top: 8px; height: 50px; width: 100px"
										onclick="doUpdate()">
										<i class="icon-ok"></i> 修改提交
									</button>
								</div>
							</div>
							<div class="control-group" style="display: none;margin-left: 280px"
								id="sub_button_save">
								<div class="controls">
									<button type="button" id="btn_submit" class="btn"
										style="padding-top: 8px; height: 50px; width: 100px"
										onclick="doSave()">
										<i class="icon-ok"></i> 添加提交
									</button>
								</div>
							</div>

						</div>
					</div>


				</div>

			</form>
		</div>

		<!-- 模态框 -->
		<div id="myModal" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					恭喜您！修改操作成功！
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal1" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					抱歉！修改操作失败！
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal15" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					请您先选择一条记录
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal2" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					请您先选择要删除的列
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal18" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					请您选择一条数据
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal3" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					删除提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					您确定要删除此条信息吗？
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn btn-success" onclick="doDelete()">确定</a>
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal4" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					恭喜您！删除操作成功！
				</p>
			</div>
			<div class="modal-footer">
				<a class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal5" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					您好，角色名称不能为空！
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal6" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					您好，角色名称不能重名！
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal7" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					添加角色失败
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal12" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					抱歉，没有符合您需要的数据！
				</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="myModal8" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					您需要为本角色授权吗？
				</p>
			</div>
			<div class="modal-footer">
				<a class="btn btn-success" onclick="shouQuan()">确定</a>
				<a class="btn" data-dismiss="modal" onclick="refresh()">关闭</a>
			</div>
		</div>
		<div id="myModal9" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					角色授权
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<iframe id="ttt" src=""></iframe>
			</div>
			<div class="modal-footer">
				<a class="btn" data-dismiss="modal" onclick="guanBi()">关闭</a>
			</div>
		</div>
		<div id="myModal16" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					为角色修改或添加用户
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<iframe id="ttt6" src=""></iframe>
			</div>
			<div class="modal-footer">
				<a class="btn" data-dismiss="modal" onclick="guanBi()">关闭</a>
			</div>
		</div>
		<div id="myModal20" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					为角色修改或添加权限
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<iframe id="ttt6" src=""></iframe>
			</div>
			<div class="modal-footer">
				<a class="btn" data-dismiss="modal" onclick="guanBi()">关闭</a>
			</div>
		</div>
		<div id="myModal10" class="modal hide fade in">
			<div class="modal-header">
				<a class="close" data-dismiss="modal">×</a>
				<h3>
					温馨提示
				</h3>
			</div>
			<div class="modal-body">
				<!--<h4>Text in a modal</h4>-->
				<p>
					操作失败
				</p>
			</div>
			<div class="modal-footer">
				<a href="" class="btn" data-dismiss="modal">关闭</a>
			</div>
		</div>
		<div id="m1">
			<iframe id="ttt" src="" style="border: 0; width: 95%; height: 95%"></iframe>
		</div>
<div id="m2">
			<iframe id="ttt" src="" style="border: 0; width: 95%; height: 95%"></iframe>
		</div>
		<div id="m3">
			<iframe id="ttt" src="" style="border: 0; width: 95%; height: 95%"></iframe>
		</div>


	</body>
</html>
