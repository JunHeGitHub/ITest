/*! yhdMobile 2013-11-12 by fwx*/
function roll_slide(a,b,c){function d(){g=setInterval(function(){var a=$(k).eq(0).outerWidth(!0),b=$(j).index($(h+" > .slideNavOut > .slide_nav > li.cur")),c=b+1;b==l-1&&(c=0),$(i).animate({marginLeft:"-="+a},n,function(){$(k).eq(0).appendTo($(i)).parent().css("marginLeft",0),$(j).eq(c).addClass("cur").siblings().removeClass("cur")})},o)}function e(){var a=$(k).first().outerWidth(!0),b=$(j).index($(h+" > .slideNavOut > .slide_nav > li.cur")),c=b+1;b==l-1&&(c=0),$(j).eq(c).addClass("cur").siblings().removeClass("cur"),$(i).animate({marginLeft:"-="+a},n,function(){$(k).eq(0).appendTo($(i)).parent().css("marginLeft",0)})}function f(){var a=$(k).last().outerWidth(!0),b=$(j).index($(h+" > .slideNavOut > .slide_nav > li.cur")),c=b-1;0==b&&(c=l-1),$(j).eq(c).addClass("cur").siblings().removeClass("cur"),$(k).last().prependTo($(i)).parent().css("marginLeft","-"+a+"px"),$(i).animate({marginLeft:0},n)}for(var g,h="#"+a,i=h+" .contIn",j=h+" > .slideNavOut > .slide_nav > li",k=i+" > a",l=$(k).length,m=0,n=c>0?c:340,o=b>0?b:5e3,p=l-1;p>=0;p--)m+=$(k).eq(p).outerWidth(!0),$(k).eq(p).addClass("r_"+p);$(i).width(m),d(),$(k).bind("vmouseup",function(){d()}),$(k).bind("vmouseover",function(){clearInterval(g)}),$(k).bind("swipeleft",function(){e()}),$(k).bind("swiperight",function(){f()}),$(".nextSlider").bind("click",function(){e()}),$(".preSlider").bind("click",function(){f()})}function dt_bt(a){var b="#"+a,c=120;$(b+" > dt").each(function(){$(this).attr("id","link_"+$(b+" > dt").index(this))}),$(b+" > dt").bind("click",function(){$(this).hasClass("cur")?($(this).removeClass("cur"),$(this).next("dd").slideUp(c)):($(this).addClass("cur").siblings("dt").removeClass(),$(this).next("dd").slideDown(c).siblings("dd").slideUp(c));var a="#"+$(this).attr("id");return setTimeout(function(){window.location.hash=a},c+40),!1})}function num_buy(){$(".num_reduc").bind("click",function(){var a=parseInt($(this).parent().siblings(".coupMinValue").val(),10),b=$(this).parent().siblings(".coupNumLimit").length,c=Math.abs($(this).siblings(".buy_num").val());return c==a&&0!=b?($(this).addClass("grey").parent().siblings(".coupNumLimit").show().find("em").text(a),!1):(2==c?$(this).addClass("grey"):$(this).parent().siblings(".coupNumLimit").hide(),$(this).siblings(".buy_num").val(c>1?c-1:1),$(this).siblings(".num_incre").removeClass("grey"),void 0)}),$(".num_incre").bind("click",function(){var a=parseInt($(this).parent().siblings(".coupMaxValue").val(),10),b=$(this).parent().siblings(".coupNumLimit").length,c=Math.abs($(this).siblings(".buy_num").val());return $(this).siblings().find(".num_reduc").removeClass("grey"),c==a&&0!=b?($(this).addClass("grey").parent().siblings(".coupNumLimit").show().find("em").text(a),!1):($(this).parent().siblings(".coupNumLimit").hide(),$(this).siblings(".buy_num").val(c+1),$(this).siblings(".num_reduc").removeClass("grey"),void 0)})}function inputBuynum(){function a(a){var b=$(".buy_num").eq(a).val(),c=$(".buycarForm li").eq(a).find("i:eq(0)").text(),d=$(".buycarForm li").eq(a).find("i:eq(1)").text(),e=$(".buycarForm li").eq(a).find("i:eq(2)").text(),f=$(".buycarForm li").eq(a).find("i:eq(3)").text();document.getElementById("strquantity").value=b,document.getElementById("merchantId_id").value=d,document.getElementById("productId_id").value=c,document.getElementById("updateType_id").value=e,document.getElementById("langpage_id").value=f,document.forms.productForm.submit()}$(".buy_num").bind("blur",function(){var b=$(".buy_num").index(this);a(b)}),$(".num_reduc").bind("click",function(){var b=$(".num_reduc").index(this);a(b)}),$(".num_incre").bind("click",function(){var b=$(".num_incre").index(this);a(b)})}function sort_selected(a){var b="."+a;$("h2",b).click(function(){$(this).hasClass("on")?$(this).removeClass("on"):$(this).addClass("on").siblings("h2").removeClass()}),$("li",b).click(function(){var a=$(this).text(),c=$("ul",b).index($(this).parent("ul"));$(this).addClass("hit").siblings("li").removeClass(),$("h2:eq("+c+") > cite",b).text(a).show(),$("form.selected_form > input.sort_"+(c+1)).val(a),$(this).parent().prev("h2").removeClass("on")}),$("form.selected_form > span.reset").click(function(){$("form.selected_form > input[class^=sort_]").val(""),$("h2 > cite",b).text(""),$("ul > li",b).removeClass()})}function radio_bg(a){var b="."+a,c=b+" > label",d=b+" > input:hidden";$(c).click(function(){$(this).addClass("radio2").removeClass("radio").siblings(".radio2").addClass("radio").removeClass("radio2"),$(d).val($(this).children("ins").text())})}function config_oder_address(){$(".address_odc > sup").click(function(){var a=$(this).attr("class");if("edite"==a)address_eidt();else if("up"==a){var b="";$(".address_radio > .radio2 > span").each(function(){b+="<li>"+$(this).text()+"</li>"}),$("<ul class='show'>"+b+"</ul>").insertBefore($(".address_radio")),$(".address_odc > sup.up").text("修改").attr("class","edite"),$(".address_radio").hide()}})}function address_slt(){var a=$(".address_odc > .address_radio > .radio2 > ins").text();return $(".address_odc > input:hidden").val(a),!1}function address_eidt(){return $(".address_odc > ul").remove(),$(".address_radio").show().siblings("ul").hide(),$(".address_odc > sup").attr("class","up").text("确定"),!1}function invoices_ny(){radio_bg("yesno"),$(".yesno",".invoices_nd").siblings().hide(),$("label",".invoices_nd").click(function(){var a=$(this).text(),b=$(this).children("ins").text();a=a.replace(b,""),$("h2 > cite",".invoices_nd").text(a),a.indexOf("否")>-1?$(".yesno",".invoices_nd").siblings().hide():$(".yesno",".invoices_nd").siblings().show()})}function checkbox(){$("label[class=checkbox],label[class=checkbox2]").click(function(){var a=$(this).attr("class");return a.indexOf("checkbox2")>-1?($(this).attr("class","checkbox"),$("input",this).val(""),!1):($(this).attr("class","checkbox2"),$("input",this).val($("ins",this).text()),!1)})}function buy_car(a,b,c){if("li"==c)var d="."+a,e=b?d+" > ul > li > .buy_car":d+" li:not('.soldOut') .buy_car";else if("dl"==c)var d="."+a,e=b?d+" > dl > dd > .buy_car":d+" dl:not('.soldOut') .buy_car";$(e).live("click",function(){$(this).closest("dl, li").hasClass("isMall")||$(this).hasClass("yhd_series")||$(this).hasClass("landingpage_nolog")||($(this).parent().next().show(),$(this).closest("dl").siblings().find(".ins").hide())}),$(".ins .goBuy").live("click",function(){return $(this).parent().hide(),!1})}function fOpenCateByHash(){var a=window.location.hash;nCateHash=a.replace("#",""),""!=nCateHash&&null!=nCateHash&&"undefined"!=typeof nCateHash&&$("#"+nCateHash).addClass("cur").next().show()}function fAddCartNum(){var a=parseInt($(".headVerTen .cart em").text(),10);if($("#buycount").length>0){var b=parseInt($(".buy_num").val(),10),c=a+b;$(".headVerTen .cart em").text(c)}else $(".headVerTen .cart em").text(a+1)}function fShowHide(a,b){$(a).click(function(){return $(this).hasClass("showCon")?($(b).hide(),$(this).removeClass("showCon")):($(b).show(),$(this).addClass("showCon")),!1})}function fChooseColorSizeTip(a){$(".colChose").length>0&&$(".sizChose").length>0?$(a).live("click",function(){return $(".colSizResult b:eq(0)").text(),$(".colSizResult b:eq(1)").text(),0==$(".colChose .checked").length&&0!=$(".sizChose .checked").length?(showColorTip(),!1):0!=$(".colChose .checked").length&&0==$(".sizChose .checked").length?(showSizeTip(),!1):0==$(".colChose .checked").length&&0==$(".sizChose .checked").length?(showColorTip(),!1):$(".colChose .out").hasClass("checked")?(showColorTip(),!1):void 0}):$(a).live("click",function(){return $(".colSizResult b:eq(0)").text(),0==$(".colChose .checked").length?($(".tipMask, .tip01").show(),fSetAlertTipPosition(),$(".tip01 li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked");var a=$(".tip01 li.checked").text().replace(/\s*/g,"");colorValue=a;var b=$(".tip01 li").index($(this));$(".colSizResult b:eq(0)").replaceWith("<b>"+a+"</b>"),$("#choosecolor").attr("value",a),$(".colChose i").eq(b).addClass("checked").siblings().removeClass("checked"),$(".tipMask, .tip01").hide()}),!1):void 0}),$(".tipClose, .tip h4 b").click(function(){$(".tipMask, .tip").hide()})}function backToEdit(){$(".backToEdit").click(function(){var a=$(".colChose i").index($(".checked"));$(".tip01 li").eq(a).addClass("checked").siblings().removeClass("checked"),$(".tip02").hide(),showColorTip()})}function showColorTip(){$(".tipMask, .tip01").show(),fSetAlertTipPosition(),$(".tip01 li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked");var a=$(".tip01 li.checked").text().replace(/\s*/g,"");colorValue=a;var b=$(".tip01 li").index($(this));$(".colSizResult b:eq(0), .tip02 .result b:eq(0)").replaceWith("<b>"+a+"</b>"),$("#choosecolor").attr("value",a),$(".colChose i").eq(b).addClass("checked").siblings().removeClass("checked"),0==$(".sizChose .checked").length&&0!=$(".colChose .checked").length?($(".tipMask, .tip01").hide(),showSizeTip()):$(".tipMask, .tip01").hide()})}function showSizeTip(){$(".tipMask, .tip02").show(),fSetAlertTipPosition();var a=$(".colChose i.checked").text().replace(/\s*/g,"");$(".tip02 .result b:eq(0)").replaceWith("<b>"+a+"</b>"),$(".tip02 li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked");var b=$(".tip02 li.checked").text().replace(/\s*/g,""),c=$(".tip02 li").index($(this));colorValue=a,sizeValue=b,$(".colSizResult b:eq(1)").replaceWith("<b>"+b+"</b>"),$("#choosesize").attr("value",b),$(".sizChose i").eq(c).addClass("checked").siblings().removeClass("checked"),$(".tipMask, .tip02").hide(),$("#colSizResult2 b:eq(1)").text(sizeValue),$("#colSizResult1 b:eq(1)").hide()}),backToEdit()}function fClickDisplayTip(a){var b,c=$(".tip .checked span").text();$("#payMethod").attr("value",c),$(a).click(function(){return b=$(this),$(".tipMask, .tip:eq(0)").show(),fSetAlertTipPosition(),!1}),$(".tip li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked"),clickElementIndex=$(".tip li.checked input").val();var a=$(".tip .checked span").text().replace(/\s*/g,"");$(".tipMask, .tip").hide(),$(".payMethod b").text(a),$(".payNowBtn").attr("id","payvalue"+clickElementIndex),b.prev().attr("id","payvalue"+clickElementIndex),b.prev().children("span").text(a)}),$(".tip h4 b").click(function(){$(".tipMask, .tip").hide()})}function fSetAlertTipPosition(){var a=$(document).scrollTop(),b=$(window).height(),c=$(".alertTip").height();if(c>b)$(".alertTip").css("top",a);else{var d=(b-c)/2+a;$(".alertTip").css("top",d)}$(".closeBtn").click(function(){$(".tipMask, .tip").hide()})}function fClickTabShow(a,b){var c=$("li",a).not(".out").index($(".cur",a));$(b).eq(c).show().siblings(b).hide(),$("li",a).click(function(){$(this).hasClass("out")||($(this).addClass("cur").siblings().removeClass("cur"),c=$("li",a).not(".out").index($(".cur",a)),$(b).eq(c).show().siblings(b).hide())})}function fShowPswd(){var a=document.getElementById("togglePswd");a.addEventListener("click",fTogglePswdClick,!1)}function fTogglePswdClick(){var a=document.getElementById("mobiPswd");"password"==a.type?($("#togglePswd").removeClass("checkbox2").addClass("checkbox"),a.type="text"):($("#togglePswd").removeClass("checkbox").addClass("checkbox2"),a.type="password")}function fChkCopnIpt(a){var b=$(a).attr("value");""!=b&&$(a).parents(".longIpt").siblings(".greyBtn").addClass("payNowBtn").removeClass("greyBtn"),$(a).blur(function(){var a=$(this).val().replace(/(^\s*)|(\s*$)/g,"");""==a?$(".longIpt").siblings(".payNowBtn").addClass("greyBtn").removeClass("payNowBtn"):($(this).parent().parent().next(".mobiEror").hide(),$(".longIpt").siblings(".greyBtn").addClass("payNowBtn").removeClass("greyBtn"),$(".verfyCod").next().removeClass("greyBtn").addClass("payNowBtn"))}).keyup(function(){$(this).triggerHandler("blur")}),$(a).focus(function(){$(this).parent().prev().show()}),$(".clearIpt").bind("click",function(){$(this).next().children().val(""),$(".longIpt").siblings(".payNowBtn").addClass("greyBtn").removeClass("payNowBtn")}),$(".mobiIpt input").selectRange()}function fShowTime(a){var b=a-1;return 0==a?!1:(fGetCopnTimer(b),window.setTimeout("fShowTime("+b+")",1e3),"0"==b&&($(".timerOut").hide(),$("#twice").removeClass("greyBtn").addClass("payNowBtn").children("em").show()),void 0)}function fGetCopnTimer(a){$("#timer").html(a)}function fTimerOrNot(a){var b=$("#timerValue").val();$("em",a).hide(),$(a).children(".timerOut").show(),fShowTime(b),$("#twice").removeClass("payNowBtn").addClass("greyBtn")}function fChangeBigImgByThumb(a,b){function c(){var a=$(b).index($(".cur"));e(a+1),a++}function d(){var a=$(b).index($(".cur"));return 0==a?!1:(e(a-1),a--,void 0)}function e(a){$(b).eq(a).addClass("cur").stop(!0,!0).fadeIn(600).siblings().removeClass("cur").stop(!0,!0).fadeOut(600);var c=$(".thumbCol .checked").not(".out").text().replace(/\s*/g,"");colorValue=c,$(".colSizResult b:eq(0)").replaceWith("<b>"+c+"</b>"),$("#choosecolor").attr("value",c)}$(".nav_right").click(function(){c()}),$(".nav_left").click(function(){d()}),$(b).bind("swipeleft",function(){c()}),$(b).bind("swiperight",function(){d()}),$(a).click(function(){$(this).addClass("checked").siblings().removeClass("checked");var b=$(a).index($(".checked"));e(b)})}function getRandomString(a){a=a||32;var b="0123456789",c=b.length,d="";for(i=0;a>i;i++)d+=b.charAt(Math.floor(Math.random()*c));return d}function multiDivScroll(){$(".promoActPro").each(function(){var a=this,b=1,c=3,d=$(".promoActProIn li",a).length,e=Math.ceil(d/c),f=$(".promoActProIn").width(),g=$(".promoActProIn ul",a);3>=d&&$(".promoActProBtn span",a).addClass("disable"),$(".next",a).bind("click",function(){if(!g.is(":animated")){if(b==e)return!1;b==e-1?($("span",a).addClass("disable"),$(".pre span",a).removeClass("disable")):$(".next span, .pre span",a).removeClass("disable"),g.animate({marginLeft:"-="+f},100),b++}}),$(".pre",a).bind("click",function(){if(!g.is(":animated")){if(1==b)return $("span",a).addClass("disable"),!1;2==b?($("span",a).addClass("disable"),$(".next span",a).removeClass("disable")):$(".next span, .pre span",a).removeClass("disable"),g.animate({marginLeft:"+="+f},100),b--}}),$(this).bind("swipeleft",function(){$(".next",a).trigger("click")}),$(this).bind("swiperight",function(){$(".pre",a).trigger("click")})})}function sechSgst(){$("#keyword").keyup(function(){var a=$(this).val().replace(/^\s\s*/,""),b=400;setTimeout(function(){a?($("#suggest").show(),keywordQuery(a)):$("#suggest").hide()},b)})}function buy_car2(a){$(a).live("click",function(){$(this).closest("dl").hasClass("isMall")!==!0&&$(this).closest("dl").hasClass("soldOut")!==!0&&($(this).next().show(),$(this).closest("dl").siblings().find(".ins").hide())}),$(".ins .goBuy").live("click",function(){return $(this).parent().hide(),!1})}function turnPage(){var a=document.getElementById("selPage").options[document.getElementById("selPage").selectedIndex].value;window.location.href=a}window.addEventListener("load",function(){}),$(".gotop").click(function(){window.scrollTo(0,1)}),$(".address_radio .radio2 input").live("click",function(){address_slt(),fCheckOrderAddress()});var colorValue=null,sizeValue=null;!function(){$(".colChose i, .sizChose i").click(function(){$(this).hasClass("out")||($(this).addClass("checked").siblings().removeClass("checked"),colorValue=$(".colChose .checked").not(".out").text(),sizeValue=$(".sizChose .checked").not(".out").text(),$(".colSizResult b:eq(0)").replaceWith("<b>"+colorValue+"</b>"),$(".colSizResult b:eq(1)").replaceWith("<b>"+sizeValue+"</b>"),$("#choosecolor").attr("value",colorValue),$("#choosesize").attr("value",sizeValue),$("#colSizResult2 b:eq(1)").text(sizeValue),$("#colSizResult1 b:eq(1)").hide())})}(),$.fn.selectRange=function(){var a=this[0],b=a.value.length;if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},yhdLib_inshop=jQuery.yhdtool={fullColumnScroll:function(a){function b(){return k+=1,g.stop(!0,!0).animate({marginLeft:"-="+l},m,function(){k==i&&(g.css("marginLeft","-"+l+"px"),k=0),d.numnav&&n.find("a").eq(k).addClass("cur").siblings().removeClass("cur")}),!1}var c={id:!1,prevnext:!0,numnav:!1,time:4},d=$.extend({},c,a),e="#"+d.id,f=$(e),g=$(e+">.in>ul"),h=$("li",e),i=h.length,j=null,k=0,l=h.width(),m=320,n=null;if(!d.id||f.length<1)return!1;if(h.first().clone().appendTo(g),h.last().clone().prependTo(g),d.prevnext&&(j=$('<span class="mYhdSrollArrow mYhdSrollArrowL"></span><span class="mYhdSrollArrow mYhdSrollArrowR"></span>').appendTo(f),j.click(function(){return g.is(":animated")?!1:($(this).hasClass("mYhdSrollArrowL")?(--k,g.animate({marginLeft:"+="+l+"px"},m,function(){0>k&&(k=i-1,g.css("marginLeft","-"+l*(k+1)+"px")),d.numnav&&n.find("a").eq(k).addClass("cur").siblings().removeClass("cur")})):b(),void 0)})),d.numnav){n=$('<div class="mYhdSrollNav">'+function(){for(var a="",b=0;i>b;b++)a+='<a hre="javascript:;" '+(0==b?'class="cur"':"")+">"+(b+1)+"</a>";return a}()+"</div>").appendTo(f);var o=-(n.width()/2)+"px";n.css("marginLeft",o);var p=$(".inshopMat-FullColumScroll-NumNav>a",e);p.hover(function(){return k=p.index(this),g.stop(!0,!0).animate({marginLeft:"-"+l*(k+1)},m),d.numnav&&$(this).addClass("cur").siblings().removeClass("cur"),!1})}f.bind("swipeleft",function(){$(".mYhdSrollArrowR",f).trigger("click")}),f.bind("swiperight",function(){$(".mYhdSrollArrowL",f).trigger("click")})}},$(function(){$("#searchBtn").click(function(){return $(".searchBar").show(),!1}),$("#keyword").focus(function(){$(".cateBtn").hide(),$(this).parent().addClass("searchFormFocus")}),$("#keyword").blur(function(){$(".cateBtn").show(),$(this).parent().removeClass("searchFormFocus")})});