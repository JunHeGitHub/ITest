<!DOCTYPE  HTML>
<html lang="en">
	<head>
		<title>权限管理</title>
		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3" />
		<meta http-equiv="description" content="this is my page" />
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=9;IE=8;IE=EDGE" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/bootstarp/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/bootstarp/bootstrap-responsive.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/css/zinglabs.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/dataTables/css/jquery.dataTables.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/dataTables/css/DT_bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/dataTables/css/dataTables.tableTools.min.css"/>
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/dataTables/css/font-awesome.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/dataTables/css/dataTables.colVis.min.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/dataTables/css/dataTables.responsive.css" />
		<link rel="stylesheet" type="text/css" href="/JsLib/dist/component/artdialog/ui-dialog.css" />
		<style type="text/css" class="init">
			#test tr td:first-child{
		        text-align: center;
		    }
		    #test tr td:first-child:before {
		        content: "\f096"; 
		        font-family: FontAwesome;
		    }
		    #test tr.active td:first-child:before {
		        content: "\f046"; /* fa-check-square-o */
		    }
			.title_center{
				text-align: center!important;
			}
		</style>
	</head>
	<body>
		<!-- 容器 -->
		<div class="zing_container">
			<!-- datatable部分 包含筛选项 -->
			<div class="head">
				<!-- dataTable筛选项部分 -->
				<div class="widget-box collapsible">
					<div class="widget-title">
						<span class="icon"> <i class="icon-search"></i> </span>
						<h5>
							配置项搜索
						</h5>
						<div class="buttons">
							<button class="btn btn-mini"
								onclick="jQuery.fx.off = false;$('#collapseOne').slideToggle(200);">
								<i class="icon-retweet"></i>展开/关闭
							</button>
						</div>
					</div>
					<div class="collapse in" id="collapseOne">
						<!--TODO 里面写查询项表单布局 -->
						<div class="widget-content container">
							<form action="" id="where">
								<div style="height: 20px;"></div>
								<div class="row-fluid zing_row">
									<div class="span4 zing_span4">
										<div class="form-horizontal zing_form_horizontal">
											<div class="control-group zing_control-group">
												<label class="control-label zing_control-label"
													for="name_search">
													权限名称：
												</label>
												<div class="controls zing_controls">
													<input type="text" class="zing_input_span4" id="name_search" name="name" placeholder="">
												</div>
											</div>
										</div>
									</div>
									<div class="span4 zing_span4">
										<div class="form-horizontal zing_form_horizontal">
											<div class="control-group zing_control-group">
												<label class="control-label zing_control-label"
													for="comTypeName">
													权限类型：
												</label>
												<div class="controls zing_controls">
													<select class="zing_input_span4" id="comTypeName" name="typeName"></select>
												</div>
											</div>
										</div>
									</div>
									<div class="span4 zing_span4">
										<div class="form-horizontal zing_form_horizontal">
											<div class="control-group zing_control-group">
												<label class="control-label zing_control-label"
													for="modleName_search">
													模块名称：
												</label>
												<div class="controls zing_controls">
													<input type="text" class="zing_input_span4" id="modleName_search" name="modleName" placeholder="">
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row-fluid zing_row">
									<div class="span4 zing_span4">
										<div class="form-horizontal zing_form_horizontal">
											<div class="control-group zing_control-group">
												<label class="control-label zing_control-label"
													for="funName_search">
													功能名称：
												</label>
												<div class="controls zing_controls">
													<input type="text" class="zing_input_span4" id="funName_search" name="funName" placeholder="">
												</div>
											</div>
										</div>
									</div>
								</div>
								<center>
									<button type="button" class="btn" onclick="tableSearch()">
										<i class="icon-search"></i> 搜 索
									</button>
									<button type="button" id="btn_clean" class="btn"
										onclick="cleanSearchForm()">
										<i class="icon-remove"></i> 清空
									</button>
								</center>
							</form>
						</div>
					</div>
				</div>
				<!-- dataTable 部分 -->
				<div class="widget-box">
					<div class="widget-title">
						<span class="icon"> <i class="icon-th"></i> </span>
						<h5>
							信息
						</h5>
						<!--TODO 里面可加一些按钮 -->
						<div class="buttons">
							<a class="btn btn-mini" onclick="refresh()" href="javascript:;;"><i
								class="icon-refresh"></i> 刷 新</a>
						</div>
					</div>
					<div class="widget-content nopadding">
						<!-- 提示栏 -->
						<div class="alert alert-error" id="errorDiv"
							style="display: none;">
						</div>
						<div class="alert alert-success" id="successDiv"
							style="display: none;">
						</div>
						<table id="test" class="table table-striped table-hover dt-responsive"></table>
					</div>
				</div>
			</div>
			<!-- 表单部分 -->
			<div class="foot ">
				<div class="widget-box " style="margin-top: 0px">
					<!-- 功能栏 -->
					<div class="navbar-inner" style="padding-top: 10px">
						<button class="btn btn-primary" id="save"
							onclick="scroll2data('updateForm');">
							添 加
						</button>
						&nbsp;
						<button class="btn btn-danger" onclick="fnGetSelected()">
							删 除
						</button>
						&nbsp;
						<button id="chongzhi" type="reset" class="btn"
							onclick="chongzhi()">
							重置
						</button>
						&nbsp;
						<button id="add_button" type="button" class="btn"
							onclick="doSave()" style="display: none;">
							确认添加
						</button>
						<button id="update_button" type="button" class="btn"
							onclick="doUpdate()" style="display: none;">
							确认修改
						</button>
					</div>
					<!-- 表单项  update insert 先用一个表单 有需要就分开 -->
					<div class="widget-content container" id="update">
						<form id="updateForm" class="hide">
							<input type="hidden" class="zing_input_span4" id="id" name="id"
								placeholder="">
							<div class="row-fluid zing_row">
								<div class="span6 zing_span6">
									<div class="form-horizontal zing_form_horizontal">
										<div class="control-group  zing_control-group">
											<label class="control-label zing_control-label"
												for="quanxianleixing">
												权限类型：
											</label>
											<div class="controls  zing_controls">
												<select class="zing_input_span6" type="text" id="quanxianleixing" name="typeName"></select>
											</div>
										</div>
									</div>
								</div>
								<div class="span6 zing_span6">
									<div class="form-horizontal zing_form_horizontal">
										<div class="control-group  zing_control-group">
											<label class="control-label zing_control-label" for="name">
												权限名称：
											</label>
											<div class="controls  zing_controls">
												<input type="text" class="zing_input_span6" id="name" name="name" placeholder="">
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row-fluid zing_row hide pathDiv">
								<div class="span12 zing_span12">
									<div class="form-horizontal zing_form_horizontal">
										<div class="control-group zing_control-group" id="path">
											<label class="control-label zing_control-label" for="bItem">
												路径:
											</label>
											<div class="controls zing_controls">
												<input type="text" class="span8" id="alias1" name="alias1" placeholder="">
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row-fluid zing_row">
								<div class="span6 zing_span6">
									<div class="form-horizontal zing_form_horizontal">
										<div class="control-group zing_control-group" id="gongneng">
											<label class="control-label zing_control-label" for="bItem">
												功能id:
											</label>
											<div class="controls zing_controls">
												<input type="text" class="zing_input_span6" id="funId" name="funId" placeholder="">
											</div>
										</div>
									</div>
								</div>
								<div class="span6 zing_span6">
									<div class="form-horizontal zing_form_horizontal">
										<div class="control-group zing_control-group"
											id="gongnengmingcheng">
											<label class="control-label zing_control-label"
												for="inputpeizhiItemValue">
												功能名称：
											</label>
											<div class="controls zing_controls">
												<input type="text" class="zing_input_span6" id="funName" name="funName" placeholder="">
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row-fluid zing_row">
								<div class="span6 zing_span6">
									<div class="form-horizontal zing_form_horizontal">
										<div class="control-group zing_control-group" id="mokuai">
											<label class="control-label zing_control-label" for="bItem">
												模块id:
											</label>
											<div class="controls zing_controls">
												<input type="text" class="zing_input_span6" id="modleId" name="modleId" placeholder="">
											</div>
										</div>
									</div>
								</div>
								<div class="span6 zing_span6">
									<div class="form-horizontal zing_form_horizontal">
										<div class="control-group zing_control-group"
											id="mokuaimingcheng">
											<label class="control-label zing_control-label"
												for="inputpeizhiItemValue">
												模块名称：
											</label>
											<div class="controls zing_controls">
												<input type="text" class="zing_input_span4_append_icon" id="modleName" name="modleName" placeholder="" readonly>
												<button type="button" class="btn" onclick="openModelTree()">
													选择
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="../../../js/golbal_params.js"></script>
		<script type="text/javascript" src="../../../js/jquery.js"></script>
		<script type="text/javascript" src="../../../js/bootstrap.js"></script>
		<script type="text/javascript" src="../../../js/dataTables/js/jquery.dataTables.js"></script>
		<script type="text/javascript" src="../../../js/dataTables/js/dataTables.colReorder.js"></script>
		<script type="text/javascript" src="../../../js/dataTables/js/dataTables.colVis.js"></script>
		<script type="text/javascript" src="../../../js/dataTables/js/dataTables.tableTools.min.js"></script>
		<script type="text/javascript" src="../../../js/dataTables/js/DT_bootstrap.js"></script>
		<script type="text/javascript" src="../../../js/common_utils.js"></script>
		<script type="text/javascript" src="../../../js/appCommonUtil.js"></script>
		<script type="text/javascript" src="../../../js/appCommonCurdUtils.js"></script>
			<script type="text/javascript">
var bool=true;

var roleWin;
var orgWin;
var PRJ_PATH=window.top.PRJ_PATH||"ZDesk";
var ZDesk_ROU=window.top.ZDesk_ROU||"ZDesk";
function openModelTree() {		
	    var url = "/"+PRJ_PATH+"/zh_cn/common/zkmCommonTree.html?recordType=menu&type=allNode&mode=single&showButton=y&reFillFn=getOrgCodeList&closeFn=closeWindow?&isLeftClickFn=false&isRightClickFn=false";
	    orgWin= zinglabs.dialog({
			      title: '模块名称',
				  width:300,
				  height:500,
				 content : '<iframe src=' + url
						+ ' style="border: 0; width: 100%; height: 100%"  frameborder="0"/>',
			      
		 });
			orgWin.show();
}

// 关闭window
function closeWindow() {
	//roleWin.close();
	orgWin.close();
}

	
 function getOrgCodeList(orgCodeList) {
	var str = '';
	var modelid='';

	for (var i = 0; i < orgCodeList.length; i++) {
		var params = {};
		params.tableName = "commonTree_detail";
		params.primaryKey = "id";
		params.primaryKeyValue = orgCodeList[i];
		params.where = {
			"id" : params.primaryKeyValue
		};
		commonSelect(params, false, function(data) {
					str = data.rows[0].text + "," + str;
					modelid=data.rows[0].modleId + "," + modelid;
				});
	}
	var companyTextList = str.substr(0, str.length - 1);
	var mid=modelid.substr(0, modelid.length - 1);
	$("#modleId").val(mid);
	$("#modleName").val(companyTextList);
	closeWindow();
	// $("#myModal").modal("hide");
}   
	
	$(document).ready(function() {
		
	   var da=doSearch(); 

	  $('#test').dataTable({
    	    //滚动条 
	        //scrollY: 500,
	       //scrollX: false,
	        bPaginate: true, //翻页功能
			bLengthChange: false, //改变每页显示数据数量
			bFilter: true, //过滤功能
			bSort: true, //排序功能
			bInfo: true,//页脚信息
			bAutoWidth: false, //自动宽度
			sPaginationType: "bootstrap",//分页样式
			//"sDom":"<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>" ,
			data:da,
		   // dom: 'Rlfrtip',
		    dom: 'TRlrtip',
		   // dom: 'T<"clear">lfrtip',
		    //自定义列插件
	       // colVis: {
	       //    order: 'alpha',
	       //    buttonText: "自定义显示列"
	       // },
	        order: [ 1, 'desc' ],
			columns: [
			 /*{ "title": 
			   "<input type='checkbox' id='selectall' onclick='toggleChecks(this);' ></input>",
			    "mDataProp": null, 
			    "sWidth": "20px", 
			    "sDefaultContent": "<input type='checkbox' class='case' onChange='setSelect()' ></input>",
			     "bSortable": false 
		
			     },*/
				{ title:"<input type='checkbox' id='selectall' onclick='toggleChecks(this);' />",data: null, defaultContent: '', orderable: false ,class:"title_center"},
				{ 
				  title:"id" ,
				  data: 'id',
				  visible: false,
				  searchable: false
				},
				/**title 表头  data json 对应key **/
		        {"title":"权限名称",data:'name',filter:'desc' },
		        {"title": "权限类型",data: 'typeName' },
		        {"title": "模块名称",  data: 'modleName'},
		        {"title": "功能名称",data: 'funName' }
	        ],
	        //列 行高亮显示
	        createdRow: function ( row, data, index ) {
	           // if ( data[5].replace(/[\$,]/g, '') * 1 > 4000 ) {
	               // alert("123");
	                $('td', row).eq(2).addClass('red');
	           // }
	        } ,
	        //列筛选等属性 样式 可以与columns属性合并
	        columnDefs: [ {
			     "targets": -1,
			     "defaultContent": "<button>编辑</button>",
			      data:null
		          } ,
		          {
	                // The `data` parameter refers to the data for the cell (defined by the
	                // `data` option, which defaults to the column being worked with, in
	                // this case `data: 0`.
	                render: function ( data, type, row ) {
	                    return data ;//+' (单元格格式化)';
	                },
	                "targets": 3
	            }
		    ],
	        oLanguage: {
				"sLengthMenu": "每页显示 _MENU_条",
				"sZeroRecords": "没有找到符合条件的数据",
				"sProcessing": "&lt;imgsrc=’./loading.gif’ /&gt;",
				"sInfo": "当前第 _START_ - _END_ 条　共计 _TOTAL_ 条",
				"sInfoEmpty": "木有记录",
				"sInfoFiltered": "(从 _MAX_ 条记录中过滤)",
				"sSearch": "搜索：",
				"oPaginate": {
				"sFirst": "首页",
				"sPrevious": "前一页",
				"sNext": "后一页",
				"sLast": "尾页"
			    }
	        }, tableTools: {
	          //single 单选 multi 多选  os 可以按ctrl 选择
	           // sRowSelect:'multi',
	           //回调 单选
	            fnRowSelected: function ( nodes ) {
	               var index=nodes[0]._DT_RowIndex;	
	               var data = table.row(index).data();
	               initForm(data);
	               //alert(JSON.stringify(data));
	            },
	             sRowSelect:'multi',
	            //sRowSelector:'td:first-child',
	            aButtons:     [ /*{
	                "sExtends":    "select_all",
	                "sButtonText": "选择全部",
	                "target":      "#select"
	              } , 'select_none' */]
	        }
	        
	        
	    }); 
	     //绑定事件 on
	     var table= $('#test').DataTable();
		 $('#test tbody').on( 'click', 'button', function (obj) {
		    var data = table.row( $(this).parents('tr') ).data();
	        alert(JSON.stringify(data));
		} );
		 
		
	    //工具栏与bootstarp 结合
	   // var tt = new $.fn.dataTable.TableTools(table);
	  //  $(tt.fnContainer()).insertBefore('#tools');
	  //筛选绑定
	   /* $('#shaixuan').on( 'keyup', function () {
	       table.search( this.value ).draw();
	    });*/
	    //自定义列插件绑定
	     var colvis = new $.fn.dataTable.ColVis(table,{ buttonText: '自定义显示列',exclude: [ 0 ,1] });
	    $( colvis.button()).insertBefore('#cols');  
	});
	
	function tableSearch(){
		var data=zkm_getHtmlFormJsons("where");
		var info=doSearch(data);
		if(data!=''||data!=null){
		    var table=$('#test').DataTable();
		    table.clear().draw();
		    table.rows.add(info).draw();
	    }
	    if($("#comTypeName").val()!="page"){
	     	var table=$('#test').DataTable();
			table.column( 4 ).visible( false );
			table.column( 5 ).visible( false );
		}
	}
	
	
	function doSearch(data){
		//通用查询action路径
		var url = "/" + PRJ_PATH+ "/" + ZDesk_ROU+"/suSecurityPermission" + "/" + "searchSuSecurityPermission.action";
		   var rdata=[];
		   	$.ajax({
				async :false,
				type : "post",
				url : url,
				dataType : "json",
				data : data,
				success : function(data) {
					if (data) {
		              /*$("#test").dataTable({
		                 data:data
		              });*/
		              rdata=data.data;
					}
				},
				error : function(r){
				   alert("error");			
				}
				});
		     return rdata;
		}
		//获取选中行
		function fnGetSelected(){
		    //注意DataTable大写 或者 $('#test').dataTable().api();	
		     var table=$('#test').DataTable();
		 //  var data =table.column().data();
		    //获取选中行 通过dataTable查找
		    var cell=table.rows(".active").data();
		    //通过table TableTools插件 查找
		     var tt = new $.fn.dataTable.TableTools(table);
		      var selectData=tt.fnGetSelectedData();
		      var array="";
		      for(var i=0;i<selectData.length;i++){
		      	array+=JSON.stringify(selectData[i].id)+",";
		      }
		      var id=array;
		    console.log( JSON.stringify(selectData));
		    if(selectData==""||selectData==null){
		    	 zinglabs.i18n.alert("system_selectDataForDelete");
		    }else{
		        zinglabs.confirm('确认删除此条数据?',function(){
		        	 var url = "/" + PRJ_PATH + "/" + ZDesk_ROU+"/suSecurityPermission" + "/" + "deleteSuSecurityPermission.action";
			   	var params=id
			   	$.ajax({
					async :false,
					type : "post",
					url : url,
					dataType : "json",
					data : params,
					success : function(data) {
						if (data) {
			             refresh();
						}
					},
					error : function(r){
					   alert("error");			
					}
				});
				
		        });
		       
		    }
		}
		 //获取选中行修改
		function doUpdate(){
		var data=zkm_getHtmlFormJsons("updateForm");
	        var url = "/" + PRJ_PATH + "/" + ZDesk_ROU+"/suSecurityPermission" + "/" + "updateSuSecurityPermission.action";
		   	$.ajax({
				async :false,
				type : "post",
				url : url,
				dataType : "json",
				data : data,
				success : function(data) {
					if (data) {
		              /*$("#test").dataTable({
		                 data:data
		              });*/
		                zinglabs.i18n.alert("system_updateSuccess");
		             $("#updateForm input,#updateForm textarea,#updateForm select[name]").val('');
		             $("#menuTree").hide();
		             refresh();
		             addBotton();
					}
				},
				error : function(r){
				   alert("error");			
				}
			});	
		}
	
		 //添加操作
		function doSave(){
		var data=zkm_getHtmlFormJsons("updateForm");
		var quanxian=$("#quanxianleixing").val();
		 if(authorization(quanxian)){
		 	alert("");
		 	return;
		 }else{
	        var url = "/" + PRJ_PATH + "/" +ZDesk_ROU +"/suSecurityPermission" + "/" + "SaveSuSecurityPermission.action";
		   	$.ajax({
				async :false,
				type : "post",
				url : url,
				dataType : "json",
				data : data,
				success : function(data) {
					if (data&&data.success){
		               zinglabs.i18n.alert("system_saveSuccess");
		              $("#updateForm input,#updateForm textarea,#updateForm select[name]").val('');
		               $("#menuTree").hide();
		              refresh();
					}else{
					}
				},
				error : function(r){
				   zinglabs.alert("error");
				}
			});
			}
		}
	//全选
	
	 function toggleChecks(obj){
	       var table=$('#test').DataTable();
	       var tableTools = new $.fn.dataTable.TableTools(table);
	       var ischeck=$("#selectall").is(':checked');
	       if(ischeck){
	         tableTools.fnSelectAll();
	       }else{
	         tableTools.fnSelectNone();
	       }
	    }
	    
		function initForm(data){
					uppdateBotton();
					scroll2data("updateForm");
					var cfs=$("#updateForm input[name],#updateForm textarea[name],#updateForm select[name]");
					for(var i=0;i<cfs.length;i++){
						var e=cfs[i];					
						var v=data[e.name];
						if(v==undefined || v==null){
							v='';
						}
						$(e).val(v);
					}
					var quanxian=$("#quanxianleixing").val();
					authorization(quanxian);
				}
				
	//显示修改隐藏保存
	function uppdateBotton(){
		$("#updateForm").show();
		$("#add_button").hide();
		
		$("#update_button").show();
	}
	
	//显示保存隐藏修改
	function addBotton(){
		$("#updateForm").show();
		$("#add_button").show();
		$("#update_button").hide();
	}
	//权限类型分别该显示的功能
	function authorization(quanxian){
	      	var name=$("#name").val();
	      	var funid=$("#funId").val();
	      	var funName=$("#funName").val();
	      	var modleId=$("#modleId").val();
	      	var alias1=$("#alias1").val();
	      	var modleName=$("#modleName").val();
			if(quanxian==""||quanxian==null){
				$("#quanxianleixing").val("");
				$("#path").hide();
				$("#mokuai").hide();
				$("#gongneng").hide();
				$("#mokuaimingcheng").hide();
				$("#gongnengmingcheng").hide();
				return bool;
			}
			if(quanxian=="page"){
				$("#path").hide();
				$("#mokuai").show();
				$("#gongneng").show();
				$("#mokuaimingcheng").show();
				$("#gongnengmingcheng").show();
				
				if(modleId==""||modleId==null){
					return bool;
				}
				if(modleName==""||modleName==null){
					return bool;
				}
				if(funid==""||funid==null){
					return bool;
				}
				if(funName==""||funName==null){
					return bool;
				}
				if(funName==""||funName==null||funName==""||funName==null||modleName==""||modleName==null||modleId==""||modleId==null){
					return bool;
				}
				
			}
			if(quanxian=="base"){
				$("#path").hide();
				$("#mokuai").hide();
				$("#gongneng").hide();
				$("#mokuaimingcheng").hide();
				$("#gongnengmingcheng").hide();
				if(name==""||name==null){
					return bool;
				}
			}
			
			if(quanxian=="tab"){
				$("#path").show();
				$("#mokuai").hide();
				$("#quanxian").show();
				$("#gongneng").hide();
				$("#mokuaimingcheng").hide();
				$("#gongnengmingcheng").hide();
				if(name==""||name==null){
					return bool;
				}
				if(alias1==""||alias1==null){
					return bool;
				}
				if(name==""||name==null||alias1==""||alias1==null){
					return bool;
				}
			}
	}
	
	
	//每页显示条数
	function setPageNum(obj){
	  var table=$('#test').DataTable();
	  table.page.len(obj.value).draw();
	  //alert(obj.value);
	}
	//刷新
	function refresh(){
		var quanxian=$("#quanxianleixing").val();
		authorization(quanxian);
	     var table=$('#test').DataTable();
	     //清空筛选
	     table.search("").draw();
	     $("#shaixuan").val('');
	     //清空数据
	     table.clear().draw();
	     //重新加载数据
	     var data=doSearch(); 
	     table.rows.add(data).draw(true);
	}
		$(document).ready(function() {
			comType('comTypeName');
			comType('quanxianleixing');
			var quanxian=$("#quanxianleixing").val();
			$("#updateForm").hide();
			$("#save").click(function(){
				$("#mokuai").hide();
				$("#updateForm").show();
				$("#add_button").show();
				$("#update_button").hide();
				$("#updateForm input[name],textarea[name],select[name]").val("");
				authorization(quanxian);
			});
			//权限类型改变事件
			$("#quanxianleixing").change(function(){
				var quanxian=$("#quanxianleixing").val();
				authorization(quanxian);
			});
		});
		
		function comType(selectid){
			var data=getDictListfoIndexData('system_default');
			$("#"+""+selectid+"").empty();
				$("#"+""+selectid+"").append("<option value=''>--请选择--</option>"); 
			for(var i in data){
	        	$("#"+""+selectid+"").append("<option value='"+data[i].code+"'>"+data[i].name+"</option>"); 
	        }
		}
		
		function chongzhi(){
			var quanxian="";
				authorization(quanxian);
		}
		function scroll2data(id){
		$("html,body").animate({scrollTop: $("#"+id).offset().top}, 1000); 
		}

	      
	    </script>
	</body>
</html>
