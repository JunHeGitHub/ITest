<!DOCTYPE  HTML>
<html lang="en">
	<head>
		<title>自定义模板管理</title>

		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
		<meta http-equiv="description" content="this is my page">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
		<link rel="stylesheet" href="../../css/bootstrap.min.css"
			type="text/css"></link>
		<link rel="stylesheet"
			href="../../js/dataTables/css/jquery.dataTables.css"
			type="text/css"></link>
		<!-- bootstrap 与 datatable结合 -->
		<link rel="stylesheet"
			href="../../js/dataTables/css/DT_bootstrap.css" type="text/css"></link>
		<!-- 工具 -->
		<link rel="stylesheet"
			href="../../js/dataTables/css/dataTables.tableTools.min.css"
			type="text/css"></link>
		<!-- 动态列CSS -->
		<!-- <link rel="stylesheet" href="../../../css/unicorn.main.css"
			type="text/css"></link> -->
		<link rel="stylesheet"
			href="../../js/dataTables/css/font-awesome.css"></link>
		<link rel="stylesheet"
			href="../../js/dataTables/css/dataTables.colVis.min.css"
			type="text/css"></link>

		<link rel="stylesheet"
			href="../../js/ueditor/themes/default/css/ueditor.css" />

		<script type="text/javascript" src="../../js/jquery.js"></script>
		<script type="text/javascript" src="../../js/bootstrap.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/jquery.dataTables.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/dataTables.colReorder.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/dataTables.colVis.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/dataTables.tableTools.min.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/DT_bootstrap.js"></script>
		<script type="text/javascript" src="../../common/common.js"></script>
		<script type="text/javascript" src="../../js/common_utils.js"></script>
		<script type="text/javascript" src="../../js/appCommonUtil.js"></script>
		<script type="text/javascript"
			src="../../js/appCommonCurdUtils_new.js"></script>
		<script type="text/javascript" src="../../js/golbal_params.js"></script>

		<script type="text/javascript" src="../../js/common_validation.js"></script>
		<script type="text/javascript" src="../../js/golbal_params.js"></script>
		<script type="text/javascript"
			src="../activitiModelsManager/activiti.js"></script>
		<script type="text/javascript"
			src="../../js/ueditor/ueditor.all.min.js"></script>
		<script type="text/javascript"
			src="../../js/ueditor/ueditor.config.js"></script>
		<script type="text/javascript" src="zidingyimobanguanli.js"></script>
		<!-- 遮罩产插件 -->
		<script type="text/javascript" src="../../js/jquery.blockUI.js"></script>
			<script type="text/javascript" charset="utf-8"
			src="../../js/ueditor/ueditor.config.js"></script>
		<script type="text/javascript" charset="utf-8"
			src="../../js/ueditor/ueditor.all.js"></script>
		<link rel="stylesheet" type="text/css"
			href="../../js/ueditor/themes/default/css/ueditor.css" />
		<script type="text/javascript" charset="utf-8"
			src="../../js/ueditor/lang/zh-cn/zh-cn.js"></script>
		<!--<script type="text/javascript" charset="utf-8" src="../../../js/ueditor/lang/zh-cn/zh-cn.js"></script>-->
		<style type="text/css" class="init">
/**栅格布局调整开始*/ /**调整内容：一行4列，列宽：span4*/
.form-horizontal .control-label {
	float: left;
	width: 100px;
	text-align: right;
	padding-left: 0px !important;
	padding-top: 2px;
	padding-bottom: 2px;
}

.form-horizontal .controls {
	padding: 5px 0px;
	line-height: 5px;
	width: 200px !important;
	margin-left: 0px !important;
	float: left;
	padding-bottom: 2px;
	padding-top: 0px;
}

form {
	margin-bottom: 0px !important;
}

.container {
	width: 100% !important;
}

.row {
	margin-left: 0px !important;
}

H6 {
	margin-top: 2px;
	margin-bottom: 2px;
}

[class *='span'] {
	margin-left: 0px;
}

.span4 {
	width: 300px !important;
}

.nav {
	margin-bottom: 4px;
}

FORM {
	margin-top: 5px;
	padding-top: 0px;
	padding-bottom: 0px;
}

.orderDiv {
	padding-left: 2px;
	border: 1px solid #33AECC;
	border-collapse: separate;
	cellspacing: 1px;
	cellpadding: 1px;
	width: 974px;
	min-height: 200px;
	padding-bottom: 2px;
}

.searchDiv {
	margin-top: 2px;
	margin-bottom: 2px;
	marring-top: 2px;
	padding-left: 2px;
	width: 1060px;
}

.wokeorderDiv {
	marring-top: 2px;
	padding-left: 2px;
	border: 1px solid #33AECC;
	cellspacing: 1px;
	cellpadding: 1px;
	width: 1200px;
}

.container {
	margin-left: 0px
}

.top10 {
	margin-top: 10;
}

/*iframe区域*/
.iframe {
	width: 1600px;
	height: 100%;
}

#orderFlow td.red {
	text-align: center;
}

#orderFlow th {
	text-align: center;
}

/*iframe区域*/
.iframe {
	width: 1600px;
	height: 100%;
}
</style>
		<script type="text/javascript">
$(function(){
editor_a = new baidu.editor.ui.Editor({  
toolbars:[[  'undo', 'redo', '|',
            'bold', 'italic', 'underline','removeformat', 'formatmatch', 'autotypeset','|', 'forecolor', 'backcolor', 'insertorderedlist', 'insertunorderedlist', 'selectall', 'cleardoc', '|',
            '|','link', 'unlink' ]], 
//更多其他参数，请参考editor_config.js中的配置项  
 //focus时自动清空初始化时的内容
        autoClearinitialContent:true,
        //关闭字数统计
        wordCount:false,
        //关闭elementPath
        elementPathEnabled:false,
          autoHeightEnabled: false,//编辑器自动变高失效
            initialFrameWidth :690,//设置编辑器宽度
    		initialFrameHeight:200//设置编辑器高度

});  
editor_a.render( 'editor' ); //此处的参数值为编辑器的id值 	

$.blockUI(maskContent);
 $('#test').dataTable({
		'bPaginate':true,//分页器
		'bLengthChange': false,
		'bStateSave':true, //保留状态
		'bSort':true,//按列排序
		'bInfo':true,//页脚信息
		'bAutoWidth':true, //自动宽度
		'bAutoHeight':true, //自动高度
		//'sScrollX':'900',//垂直滚动条,滚动区域
		//'sScrollXInner':'100%',
		//'sScrollY':'200px',
		//'width':'1000px',
		'sPaginationType': 'bootstrap',//分页样式
		'dom': 'TRlrtip',
		serverSide: true,
		 ajax : FYdoSearch,
		//'data':rdata,
		'columns': [
			{"title":"模板类别" ,data: 'parentText',width:'10%'},
			{"title":"模板名称" ,data: 'text',className: 'my_class'}
			
		],
		"oLanguage": {
  			"sSearch": "搜索:",
  			"sLengthMenu": "每页显示 _MENU_ 条记录",
 			"sZeroRecords": "Nothing found - 没有记录",
  			"sInfo": "显示第  _START_ 条 -_END_ 条记录,一共  _TOTAL_ 条记录",
  			"sInfoEmpty": "显示0条记录",
  			"oPaginate": {
  				"sFirst": "首页",
   				"sPrevious": " 上一页 ",
   				"sNext":     " 下一页 ",
   				"sLast": "尾页"
   			}
  		}, tableTools: {
          	//single 单选 multi 多选  os 可以按ctrl 选择
           	// sRowSelect:'multi',
           	//回调 单选
           	fnRowSelected: function ( nodes ) {
            	var index=nodes[0]._DT_RowIndex;
            	var table=$("#test").DataTable();	
				var seldata= table.row(index).data();
				OpenSel(seldata);
            },
         	 sRowSelect:'os',
            //sRowSelector:'td:first-child',
            aButtons:     [ /*{
            "sExtends":    "select_all",
            "sButtonText": "选择全部",
            "target":      "#select"
              } , 'select_none' */]
        	},
	});
 $.unblockUI();
});	
</script>
	</head>
	<body>
		
		<!-- 模板操作 -->
	<div class="" style="width: 984px;">
		<div id="mbdo">
			<div style="width:984px;">
			<table width="100%" class="table table-striped table-bordered"
				id="test" cellspacing="0">
			</table>
			</div>
			<!-- 头 -->
				<div class="widget-title" style="height: 40px; line-height: 40px;">
					<span class="icon" style="float: left; padding: 0px 10px;">
						<i class="icon-cog"></i> </span>&nbsp;&nbsp;&nbsp;
					<button  class="btn"
						onclick="XJMBBtn()">
						<i class="icon-edit"></i>新建模板
					</button>
					<button id="btn_CustomTextTemplate_shanchuyonghu" type="button"
						class="btn" onclick="deleteTem()">
						<i class="icon-trash"></i>删除模板
					</button>
					<button id="btn_CustomTextTemplate_shuaxin" type="button"
						class="btn" onclick="doRepeatBySon()">
						<i class="icon-refresh"></i>刷新
					</button>
				</div>
			</div>
			<div>
				<form class="form-horizontal" id="TemForm">
					<div id="sandInter" class="orderDiv" style="display: none;">
			
						<div class="row">
							<h6>
								模板详情
							</h6>
						</div>
						<div class="row">
							<div class="span4">
								<div class="control-group ">
									<label class="control-label">
										<span style="color: red;">*</span>模板名称:
									</label>
									<div class="controls" id="Temtext_DIV">
										<input type="text" style="width: 155px" id="Temtext" name="Temtext" />
									</div>
								</div>
							</div>
						<div class="span4">
							<div class="control-group ">
								<label class="control-label">
									<span style="color: red;">*</span>模板分类:
								</label>
								<div class="controls">
									<select type="text" style="width: 168px" id="parentCode"
										name="parentCode" onchange="CheckShowOther(this);"></select>
								</div>
							</div>
							</div>
						</div>
						<div class="row" id="MBNR">
								<div class="control-group ">
									<label class="control-label">
										模板内容:
									</label>
									<div class="controls" id="HFDX" style="display: none;margin-top:5px;">
										<textarea rows="5" class ="form-control" style="width: 700px;height:150px;"
											cols="6" id="TemplateContent"
											name="TemplateContent"></textarea>
										</div>
										<div class="controls" id="HFYX">
										<script id="editor" type="text/plain"></script>
									</div>
							</div>
						<button id="btn_xinjianTJ" style="margin-left: 100px;float: left;display: none;" type="button"
						class="btn" onclick="SubmitAddOrUpd_CheckIsHave('Add')" >
						<i class="icon-ok"></i>提交
						</button>
						<button id="btn_xiugaiMB" style="margin-left: 100px;float: left;" type="button"
						class="btn" onclick="SubmitAddOrUpd_CheckIsHave('Upd')">
						<i class="icon-wrench"></i>修改
					</button>
					</div>
					</div>
				</form>
			</div>
		</div>
		
	</body>
</html>
