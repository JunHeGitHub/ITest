<!DOCTYPE HTML>
<html>
	<head>
		<title>菜单管理</title>
		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
		<meta http-equiv="description" content="this is my page">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="../../js/zTree/zTreeStyle/metroZJ.css"
			type="text/css" />
		<link rel="stylesheet" href="../../css/bootstrap.min.css"
			type="text/css"></link>
		<link rel="stylesheet" href="../../css/bootstrap-responsive.min.css"
			type="text/css" />
		<script type="text/javascript" src="../../js/jquery.js"></script>
		<script type="text/javascript" src="../../js/bootstrap.min.js"></script>
		<script type="text/javascript" src="weixincaidanguanli.js"></script>
		<script type="text/javascript"
			src="../../js/zTree/jquery.ztree.all-3.5.min.js"></script>
		<script type="text/javascript" src="../../js/appCommonUtil.js"></script>
		<script type="text/javascript" src="../../js/appCommonCurdUtils_new.js"></script>
		<script type="text/javascript" src="../../js/common_validation.js"></script>
		<script type="text/javascript" src="../../js/common_utils.js"></script>
				<style type="text/css">
body {
	font-size: 14px;
	font-family: Arial, '微软雅黑', sans-serif;
}

a,textarea,button,input,ul,li,div,span,td {
	font-size: 14px;
	font-family: Arial, '微软雅黑', sans-serif;
	-webkit-appearance: none;
}
</style>
		<script type="text/javascript">
		//@@相当于当前树的配置表的id，根据他可以找到相应的树
		var grade_index;
		//@@判断是更新操作还是添加操作
		var updateOrAdd=0;//0代表更新1代表添加3代表添加根节点
		var setting = {
		data: {
			    simpleData: {
				enable: true,
				idKey:'id',
				piKey:'pid'
			},
			key:{name:"text"}
		},
		async: {},
		callback:{		
			//beforeRemove:beforeRemove,//点击删除时触发，用来提示用户是否确定删除
			//beforeEditName: beforeEditName,//点击编辑时触发，用来判断该节点是否能编辑
			//beforeRename:beforeRename,//编辑结束时触发，用来验证输入的数据是否符合要求
			//onRemove:onRemove,
			//onRename:onRename,//编辑后触发，用于操作后台
			onClick:zTreeOnClick//点击节点触发的事件
			//removeNode:removeNode
			},
		check: {
			enable: false,
			chkStyle: "checkbox",
			chkboxType: { "Y": "", "N": "" }
		}
		};
		$(document).ready(function(){
		        $("#gexiangzhibiaoDiv").hide();	
    		    $("#gexiangzhibiaoDiv_").hide();
		    $("#baocunshujuku").addClass('hide');	//最先隐藏保存按钮		           												 		
			getItemTree();
		});
	   
		</script>

	</head>
	<body>

		<table class="table table-bordered table-condensed">
			<tbody>
				
				<tr >
					<td colspan="2">
						<div id="grade_index" style="margin-top: 10px"></div>
						<button type="button" id="btn_tianjiajiedian" class="btn"
							style="margin-left: 20px; " onclick="doAdd();" id="btn_tianjiajiedian">
							<i class="icon-tag"></i> 添加菜单
						</button>
						<!-- 
						<button type="button" id="btn_tianjiajiedian" class="btn"
							style="margin-left: 20px; " onclick="addGenjiedian();" id="btn_tianjiagenjiedian">
							<i class="icon-tag"></i> 添加根节点
						</button>  -->
						<button type="button" id="btn_shanchujiedian" class="btn"
							style="margin-left: 20px; " onclick="deljJiedian();"  id="btn_shanchujiedian">
							<i class="icon-trash"></i> 删除菜单
						</button>
					</td>
				</tr>
				<tr >
					<td style="width: 30%">
					<!--  <div class="alert alert-info" id="tishi" style="background-color:#F5F5F5; ;">......</div>-->
						<div style="overflow: auto;width:400px;height:410px">
							<ul id="treeDemo" class="ztree" style="overflow-y: auto;"></ul>
						</div>
					</td>
					<td style="width: 70%">
						<div style="overflow-y: auto;" id="gexiangzhibiaoDiv">
							<form id="gexiangzhibiao">
								<input type="hidden" id="id" name="id" class="input"
									readonly="readonly"
									style="padding: 0; margin: 0; background-color: #CAE1FF; width: 100%">
								<table class="table table-bordered table-condensed">
									<tbody>
										
										<tr >
											<td style="width: 170px;">
												<span style="color: red;">*</span>菜单名称<span style="color: red;">(注:为了更好的显示效果，菜单名称请控制在5个字以内)</span>
											</td>
										</tr>
										<tr >
											<td><div id="description_DIV">
												<input type="text" id="name" name="name"
													class="input" 
													style="padding: 0; margin: 0; background-color: #F5F5F5; width: 100%; height: 30px" ></div>
											</td>
											<!-- onkeyup = "javascript:this.value=this.value.toLowerCase();" -->
										</tr>
										<tr >
											<td>
												链接地址<span style="color: red;">(注:填写后，将跳转到相应的链接；不填写，将跳转到对应的图文消息页。)</span>
											</td>
											
										</tr>
										<tr >
											
											<td>
												<input type="text" id="url" name="url"
													class="input" 
													style="padding: 0; margin: 0; background-color: #F5F5F5; width: 100%; height: 30px">
											</td>
										</tr>
										<tr >
											<td>
												<input type="checkbox" id="isStart" name="isStart" value="1" checked="checked" style="-webkit-appearance:checkbox;margin:0;">
											是否启用
											</td>
										</tr>
									</tbody>
								</table>
							</form><div id="bianji" class="">
								<button type="button" id="btn_jisuan" name="min_value"
									class="btn" style="margin-left: 250px" onclick="doUpdate();" id="btn_xiugai">
									<i class="icon-pencil"></i>修改
								</button>
							</div>
							<div id="baocunshujuku" class="">
								<button type="button" id="btn_jisuan" name="min_value"
									class="btn" style="margin-left: 250px"
									onclick="doUpdate_ruku();"  id="btn_baocun">
									<i class="icon-ok"></i>保存
								</button>
								<!--  <button type="button" id="btn_jisuan" name="min_value" class="btn" style="margin-left: 380px;margin-top: -53px" onclick="doUpdate();"><i class="icon-pencil"></i>取消</button>-->
							</div></div>
							<div style="overflow-y: auto;display: none" id="gexiangzhibiaoDiv_">
							<form id="gexiangzhibiao_" >
								<table class="table table-bordered table-condensed">
									<tbody><tr>
										<td>
											菜单类型
										</td>
									</tr>
									<tr >
										<td>
											<input type="text" id="type" name="type" style="padding: 0; margin: 0; background-color: #F5F5F5; width: 100%;"/>
											<!-- 
											<select name="type" id="type"
												style="padding: 0; margin: 0; background-color: #F5F5F5; width: 100%;">
											<option value="娱乐">娱乐</option>
											<option value="新闻">新闻</option>
											<option value="生活">生活</option>
											<option value="体育">体育</option>
											</select>
											 -->
										</td>
									</tr>
									</tbody>
								</table>
							</form>
							<div id="bianji" class="">
								<button type="button" id="btn_jisuan_" name="min_value"
									class="btn" style="margin-left: 250px" onclick="doUpdate_genjiedian();" id="btn_xiugai">
									<i class="icon-pencil"></i>修改
								</button>
							</div>
							<div id="baocunshujuku" class="">
								<button type="button" id="btn_jisuan_" name="min_value"
									class="btn" style="margin-left: 250px"
									onclick="doUpdate_ruku_genjiedian();"  id="btn_baocun">
									<i class="icon-ok"></i>保存
								</button>
								<!--  <button type="button" id="btn_jisuan" name="min_value" class="btn" style="margin-left: 380px;margin-top: -53px" onclick="doUpdate();"><i class="icon-pencil"></i>取消</button>-->
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</body>
</html>

