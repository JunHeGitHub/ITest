
<!DOCTYPE  HTML>
<html>
	<head>
		<title>分类管理</title>
		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3" />
		<meta http-equiv="description" content="this is my page" />
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="../../css/bootstrap.min.css"
			type="text/css" />
		<!--<link rel="stylesheet" href="../../js/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css" type="text/css"></link>
		-->
		<link rel="stylesheet"
			href="../../js/dataTables/css/jquery.dataTables.css" type="text/css" />
		<!--[if lt IE 9]>
		<script type="text/javascript" src="../js/html5shiv.min.js"></script>
		<![endif]-->
		<link rel="stylesheet" href="../../js/dataTables/css/DT_bootstrap.css"
			type="text/css" />
		<link rel="stylesheet"
			href="../../js/dataTables/css/dataTables.tableTools.min.css"
			type="text/css" />
		<!-- ZDesk 通用css  -->
		<link rel="stylesheet" href="../../css/zinglabs.css" type="text/css" />
		<link rel="stylesheet" href="../../js/dataTables/css/font-awesome.css" />
		<link rel="stylesheet"
			href="../../js/dataTables/css/dataTables.colVis.min.css"
			type="text/css" />
		<script type="text/javascript" src="../../js/jquery.js"></script>
		<script type="text/javascript" src="../../js/bootstrap.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/jquery.dataTables.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/dataTables.colReorder.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/dataTables.colVis.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/dataTables.tableTools.min.js"></script>
		<script type="text/javascript" src="../../js/common_utils.js"></script>
		<script type="text/javascript" src="../../js/appCommonUtil.js"></script>
		<script type="text/javascript"
			src="../../js/appCommonCurdUtils_new.js"></script>
		<script type="text/javascript"
			src="../../js/dataTables/js/DT_bootstrap.js"></script>
		<!--
		<script type="text/javascript" src="../js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap-datetimepicker/bootstrap-datetimepicker.zh-CN.js"></script>
		-->
		<script type="text/javascript"
			src="../../js/My97DatePicker/WdatePicker.js"></script>
		<script type="text/javascript" src="../../js/log2.js"></script>
		<!-- 遮罩产插件 -->
		<script type="text/javascript" src="../../js/jquery.blockUI.js"></script>
		<!-- 验证及提示组件 -->
		<script type="text/javascript"
			src="../../js/jqueryValidate/jquery.validate.js"></script>
		<style type="text/css">
/*解决时间控件在模式对话框中的显示问题**/
.error {
	border-color: red !important;
}

.datetimepicker {
	z-index: 99999 !important;
}

.bootstrap-datetimepicker-widget {
	z-index: 99999 !important;
}

/*临时解决datatable单元格变形问题  为保证宽度不变，ie兼容模式显示效果为换行 其它浏览器省略号
  需要通过只显示部分原文解决此问题
*/
.dataTable th,.dataTable td {
	width: 120px;
	max-width: 120px;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
</style>

<script type="text/javascript">
//遮罩属性		
var maskContent = {
	css : {
		border : 'none',
		padding : '15px',
		backgroundColor : '#000',
		'-webkit-border-radius' : '10px',
		'-moz-border-radius' : '10px',
		opacity : .5,
		color : '#fff',
		font : '14px'
	},
	message : '<img src="../../img/wait.gif" border="0" />  正在加载中，请稍候...'
};

var data = "";
var roleTable = false;
var rowSelTr = false;
var partId = "";
var createPeople = getUserInfo().loginName;
$(document).ready(function() {
	//$.blockUI(maskContent);
	$('#yijieshouxinxiGrid').DataTable({
		//滚动条
		//scrollY: 500,
		//scrollX: false,
		//延迟加载
		deferRender : true,
		processing : false,
		//开启服务端分页
		serverSide : true,
		//服务器端分页ajax请求 可抽离出一个方法
		//data : data,
		ajax:doSearch,
		pagingType : "full_numbers",
		pageLength : 10,
		bPaginate : true, //翻页功能
		bLengthChange : true, //改变每页显示数据数量
		bFilter : true, //过滤功能
		bSort : true, //排序功能
		bInfo : true,//页脚信息
		bAutoWidth : false, //自动宽度
		sPaginationType : "bootstrap",//分页样式
		dom : 'TRlrtip',
		columns : [ {
			title : "分类名称",
			data : "categoryName",
			defaultContent : '',
			width : '6%',
			orderable : true
		}, {
			title : "创建人",
			data : 'createPeople',
			width : '6%',
			visible : true
		}, {
			title : "创建时间",
			data : 'createDate',
			width : '6%',
			visible : true
		}, {
			title : "是否启用",
			data : 'isDelete',
			width : '6%',
			visible : true
		} ],
		columnDefs : [ {
			"searchable" : false,
			"orderable" : false,
			"targets" : 0
		} ],

		oLanguage : {
			infoFiltered : function() {

			},
			"sLengthMenu" : "每页显示 _MENU_条",
			"sZeroRecords" : "没有找到符合条件的数据",
			"sProcessing" : "&lt;imgsrc=’./loading.gif’ /&gt;",
			"sInfo" : "当前第 _START_ - _END_ 条　共计 _TOTAL_ 条",
			"sInfoEmpty" : "没有记录",
			"sInfoFiltered" : "(从 _MAX_ 条记录中过滤)",
			"sSearch" : "搜索：",
			"oPaginate" : {
				"sFirst" : "首页",
				"sPrevious" : "前一页",
				"sNext" : "后一页",
				"sLast" : "尾页"
			}
		},
		tableTools : {
			fnRowSelected : function(nodes) {
				var index = nodes[0]._DT_RowIndex;
				rowSelTr = index;
				var data = table.row(index).data();
				partId = data.id;
				createPeople = data.createPeople;
				openEdit(data);
			},
			sRowSelect : 'single',
			aButtons : []
		}
	});

	//自定义列插件绑定
	//绑定事件 on
	var table = $('#yijieshouxinxiGrid').DataTable();
	roleTable = table;
	/* table.on( 'order.dt search.dt', function () {
		table.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
		cell.innerHTML = i+1;
		} );
	} ).draw(true);*/
	initValidate("yijieshouxinxiAddForm");
	initValidate("yijieshouxinxiEditForm");

	$.unblockUI();

});

function doSearch(data, callback, settings) {
	$("#yijieshouxinxiAdd").hide();
	$("#yijieshouxinxiEdit").hide();
	yijieshouxinxiCurdStatus = false;
	//var table = $('#yijieshouxinxiGrid').DataTable();
	//清空筛选
	//table.search("").draw();
	//table.clear().draw();
	/**var data = zkm_getHtmlFormJsons("searchDataForm");
	var isDelete = $('#testSelect option:selected').text();
	data.isDelete = isDelete;
	var i = 0;
	for ( var key in data) {
		if (data[key] == null || data[key] == "" || data[key].length == 0) {
		} else {
			i++;
		}
	}
	if (i == 0) {
		return;
	}*/
	var params = spellSelectParams("searchDataForm");
	params.tableName = "workflow_category";
	params.isPagination = false;
	//params.columnValues.msgId="@cookie_zhi";
	params.rows=settings._iDisplayLength;
	params.offset=settings._iDisplayStart;
	$.blockUI(maskContent);
	commonSelect(params, true, function(data) {
		try {
			if (data && data.data) {
				var pdata = {};
				var size = data.data.length;
				for (var i = 0; i < size; i++) {
					data.data[i].DT_RowNumber = i + 1;
				}
				pdata.data = data.data;
				//数据
				pdata.data = data.data;
				//总条数
				pdata.recordsTotal = data.data.length || 0;
				//过滤没有使用到总条数
				pdata.recordsFiltered = data.data.length || 0;
				// 代表第几次画页面  如pdata.draw 不能删 如删掉不会翻页  
				pdata.draw = settings.iDraw;
				callback(pdata);
			//table.rows.add(pdata).draw();
				}
		} catch (ex) {
			logErr("查询失败 failed " + ex.name + ": " + ex.message);
		}
		$.unblockUI();
	});
};
function tableSearch() {
	var table = $('#yijieshouxinxiGrid').DataTable();
	table.draw(true);
}

/***
* @TODO
* 通用，调试完成后分文件，不要加Velocity代码
*/

function doEdit() {
	var bool = $("#yijieshouxinxiEditForm").validate().form();
	if (bool) {
		var createDate = getTime();
		$.blockUI(maskContent);
		var params = {};
		var cValues = zkm_getHtmlFormJsons("yijieshouxinxiEditForm");
		//主键的值
		params.columnValues = cValues;
		//cValues.msgReceiver="@cookie_zhi";
		params.tableName = "workflow_category";
		params.columnValues.createDate = createDate;
		params.columnValues.createPeople = createPeople;
		//如更改不是id 需定义 params.primarykey
		commonUpdate(params, true, function(data) {
			try {
				var tableTmp = $("#yijieshouxinxiGrid").dataTable();
				if (data.success) {
					try {
						tableTmp.fnUpdate(params.columnValues, rowSelTr);
						showSuccess("修改成功!");
					} catch (e) {
						showError("异常！");
						logErr("Exception need see log " + e.name + ": "
								+ e.message);
					}
				} else {
					logErr("Exception edit failed  " + data + " "
							+ ("Items" in data));
					showError("修改失败");
				}
			} catch (ex) {
				showError("异常！");
				logErr("doEdit 2222 Excep " + ex.name + ": " + ex.message);
			}
			$.unblockUI();
		});
		return false;
	}
	return "edit";
};

/***
* @TODO
 * 通用，调试完成后分文件，不要加Velocity代码
 */

function doAdd() {
	var bool = $("#yijieshouxinxiAddForm").validate().form();
	if (bool) {
		var createDate = getTime();
		$.blockUI(maskContent);
		var tableTmp = $("#yijieshouxinxiGrid").DataTable();
		var cValues = zkm_getHtmlFormJsons("yijieshouxinxiAddForm");
		var params = {};
		//cValues.readFlag="@cookie_name";
		params.columnValues = cValues;
		params.tableName = "workflow_category";
		params.columnValues.isDelete = "已启用";
		params.columnValues.createDate = createDate;
		params.columnValues.createPeople = createPeople;
		//params.primarykeyType="uuid";
		//使用增
		commonInsertOrUpdate(params, true, function(data) {
			if (data.success == true) {
				params.columnValues.id = data.idValues[0];
				tableTmp.row.add(params.columnValues).draw(false);
				showSuccess("保存成功!");
				$("#yijieshouxinxiAdd").hide();
			}
			$.unblockUI();
		});
			//添加成功 数据清理状态 
		yijieshouxinxiCurdStatus = false;
	} else {
		//添加失败据需添加
		yijieshouxinxiCurdStatus = "add";
	}
};

	/***
	 * @TODO
	 * 通用，调试完成后分文件，不要加Velocity代码
	 */

	function doDelete() {
		//注意DataTable大写 或者 $('#promptManager').dataTable().api();	
		var table = $('#yijieshouxinxiGrid').DataTable();
		//获取选中行 通过dataTable查找
		var cell = table.rows(".active").data();
		//通过table TableTools插件 查找
		var tt = new $.fn.dataTable.TableTools(table);
		var selectData = tt.fnGetSelectedData();
		if (selectData.length <= 0) {
			showError("请选择要删除的分类");
			return;
		}
		zinglabs.confirm("确认要删除此项？", function() {
			var params = {};
			$.blockUI(maskContent);
			params.tableName = "workflow_category";
			//主键默认为id  如不为id 加上params.primarykey
			var tableTmp = $('#yijieshouxinxiGrid').DataTable();
			var cell = tableTmp.rows(".active").data();
			var ids = "";
			for (var i = 0; i < cell.length; i++) {
				var key = "id";
				if ("primarykey" in params) {
					key = params["primarykey"];
				}
				ids += cell[i][key] + ",";
			}
			params.columnValues = ids;
			commonDelete(params, true, function(data) {
				if (data) {
					if (data.success) {
						try {
							tableTmp.row('.selected').remove().draw(false);
							showSuccess("删除成功!");
						} catch (e) {
							logErr("Exception del need see log " + e.name
									+ ": " + e.message);
						}

					} else {
						logErr("Exception del failed  " + data + " "
								+ data.retcode);
						showError("删除失败");
					}
				}
				$.unblockUI();

			});
		});
		$("#yijieshouxinxiEdit").hide();
	};

	/***
	 *
	 * @desc 指定panel赋值 和清空
	 * @todo 只测试了主要类型 , checkbox、radio没测试
	 *
	 * pVars.id panel id
	 * pVars.data 赋值数据
	 * pVars.isClear 字符串 "true" 清空此panel
	 *
	 *
	 * @TODO
	 * 通用，调试完成后分文件，不要加Velocity代码
	 *
	 */
	function setPanelVal(pVars) {
		$('#' + pVars.id + ' :input').each(
				function(index, obj) {
					var type = obj.type;
					var tag = obj.tagName.toLowerCase();
					if (("isClear" in pVars) && pVars.isClear == 'true') {
						if (type == 'text' || type == 'password'
								|| tag == 'textarea' || type == 'hidden')
							$(obj).val('');
						else if (type == 'checkbox' || type == 'radio')
							$(obj).attr('checked', false);
						else if (tag == 'select')
							$(obj).attr('selectedIndex', -1);
					} else {
						var vTmp = pVars.data[this.name];
						if (BIsNullVal(vTmp)) {
							vTmp = '';
						}
						if (type == 'text' || type == 'password'
								|| type == 'hidden' || tag == 'textarea'
								|| tag == 'select')
							$(obj).val(vTmp);
						else if (type == 'checkbox' || type == 'radio') {
							$(obj).attr('checked', vTmp == '' ? false : vTmp);
						} else if (tag == 'select') {
							$(obj).attr('selectedIndex',vTmp == '' ? -1 : vTmp);
						}
					}
				});
	}

//获取系统时间  精确到秒
function getTime() {
	var d = new Date(), str = "";
	str += d.getFullYear() + "-"; //获取当前年份 

	if (("" + d.getMonth()).length == 2)
		str += (d.getMonth() + 1) + "-";
	else
		str += "0" + (d.getMonth() + 1 + "-");
	if (("" + d.getDate()).length == 2)
		str += d.getDate() + " ";
	else
		str += "0" + d.getDate() + " ";
	if (("" + d.getHours()).length == 2)
		str += d.getHours() + ":";
	else
		str += "0" + d.getHours() + ":";
	if (("" + d.getMinutes()).length == 2)
		str += d.getMinutes() + ":";
	else
		str += "0" + d.getMinutes() + ":";
	if (("" + d.getSeconds()).length == 2)
		str += d.getSeconds();
	else
		str += "0" + d.getSeconds();
	return str;
}

	//每页显示条数
	function setPageNum(obj) {
		var table = $('#yijieshouxinxiGrid').DataTable();
		table.page.len(obj.value).draw();
	}
	//刷新
	function refresh() {
		// $("#searchDataForm")[0].reset();
		var table = $('#yijieshouxinxiGrid').DataTable();
		//清空筛选
		table.search("").draw();
		//清空数据
		table.clear().draw();
		$("#yijieshouxinxiAdd").hide();
		$("#yijieshouxinxiEdit").hide();
		tableSearch();
	}

	/***
	 * @TODO
	 * 通用，调试完成后分文件，不要加Velocity代码
	 */
	function BIsNullVal(value) {
		return typeof (value) == "undefined"
				|| value == null
				|| (typeof (value) == 'string' && (value == "undefined"
						|| value == '' || value == 'null'))
				|| (typeof (value) == 'boolean' && value == false);
	};

	/***
	 * 必须处理的严重错误，测试阶段可以alert 生产环境特殊标识写入日志
	 * 发现就要分析原因
	 * @param err
	 */
	function logErr(errMsg) {
		log.debug(errMsg);
		//    alert(errMsg);
		//    PT().log.error(errMsg);
	};

	/***
	 * 嵌入ifram可以返回top parent
	 * 非嵌入 可以返回 window ...
	 * @returns {Window}
	 * @constructor
	 */
	function PT() {
		return window;
	};
	//初始化验证组件
	//fromid 表单ID
	function initValidate(fromid) {
		$("#" + fromid).validate({
			//错误信息处理方法
			errorPlacement : function(error, element) {
				//if(element.)
				element.addClass('error');
				var errorInfo = error.html();
				element.tooltip({
					trigger : "manual",
					title : errorInfo,
					placement : "left"
				});
				element.tooltip("show");
			},
			//成功信息处理方法
			success : function($e, dom) {
				var element = $(dom);
				element.tooltip('hide');
				element.removeClass('error');

			}
		});

	}

	//打开提交表单
	function openAdd() {
		$("#yijieshouxinxiEdit").hide();
		$("#yijieshouxinxiAdd").show();
		doCleanAddForm();

	}

	//打开提交表单
	function openEdit(data) {
		$("#yijieshouxinxiEdit").show();
		$("#yijieshouxinxiAdd").hide();

		yijieshouxinxiCurdStatus = "edit";
		var pvars = {
			"id" : "yijieshouxinxiEdit",
			"data" : data
		};
		setPanelVal(pvars);

	}
	//提交方法
	function doSubmit() {

		if (yijieshouxinxiCurdStatus == "add") {
			doAdd();
		} else if (yijieshouxinxiCurdStatus == "edit") {
			doEdit();
		}
	}

	//显示错误信息
	function showError(mgs) {
		//$("#errorDiv").show();
		//  $("#successDiv").hide();
		//  $("#errorDiv").html(mgs);
		//  setTimeout(function(){
		//    $("#errorDiv").hide();
		// },3000);
		zinglabs.alert(mgs);

	}
	//显示成功信息
	function showSuccess(mgs) {
		//  $("#errorDiv").hide();
		// $("#successDiv").show();
		//  $("#successDiv").html(mgs);
		//  setTimeout(function(){
		//     $("#successDiv").hide();
		//  },3000);
		zinglabs.alert(mgs);
	}
	//清空添加表单
	function doCleanAddForm() {
		yijieshouxinxiCurdStatus = "add";
		var pvars = {
			"id" : "yijieshouxinxiAdd",
			"isClear" : "true"
		};
		setPanelVal(pvars);
	}

	function cleanSearchForm() {
		$("#searchDataForm")[0].reset();
	}

	//模块管理
	function manageCategory() {
		var selectData = roleTable.rows(".active").data();
		if (selectData.length <= 0) {
			showError("请选择一条分类");
			return;
		}
		var url = "/" + PRJ_PATH + "/zh_cn/chatWorkflow/wx_category.html?width=700px&height=700px";
		closeDialog = orgDialog(url);
	}
	function orgDialog(url) {
		var orgDig = dialog({
			title : '模块管理',
			content : '<iframe src=' + url + ' style="border: 0; width: 950px; height: 350px;"  frameborder="0"/>',
			width : '950',
			height : '350'
		});
		orgDig.show();
		return orgDig;
	}
	//关闭dialog
	function closeDig() {
		window.closeDialog.close().remove();
	}
	//给模块传关联id
	function getpartIdAndcreatePeople() {
		return {
			"partId" : partId,
			"createPeople" : createPeople,
		}
	}
</script>
</head>
	<body>

		<!-- 容器 -->
		<div class="z_container" style="max-width: 100%;min-width: 1000px;">
			<!-- datatable部分 包含筛选项 -->

			<div class="head">
				<!-- dataTable筛选项部分 -->
				<div class="widget-box collapsible">
					<div class="widget-title">
						<span class="icon"> <i class="icon-search"></i> </span>
						<h5>
							配置项搜索
						</h5>
						<div class="buttons">
							<button class="btn btn-mini"
								onclick="	jQuery.fx.off = false;$('#collapseOne').slideToggle(200);">
								<i class="icon-retweet"></i>展开/关闭
							</button>
						</div>
					</div>
					<div class="collapse in" id="collapseOne">
						<!--TODO 里面写查询项表单布局 -->
						<div class="widget-content container">

							<form action="" id="searchDataForm">

								<div class="row" style="margin-left: -130px">
									<div class="span4">
										<div class="form-horizontal">
											<!-- 日期 布局会遮住后面选择日期的按钮  临时同减小input宽度解决 -->
											<div class="control-group">
												<label class="control-label" for="createDatetimebegin">
													创建时间 从:
												</label>
												<div class="controls">
													<div class="input-append">
														<input type="text" style="width: 179px"
															id="createDatetimebegin" name="createDatetimebegin"
															data-sType="moreThan" readonly>
														<span class="add-on"><i class="icon-calendar"
															onclick="WdatePicker({el:'createDatetimebegin',dateFmt:'yyyy-MM-dd HH:mm:ss'})"></i>
														</span>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="span4 offset1">
										<div class="form-horizontal">
											<div class="control-group">
												<label class="control-label" for="createDatetimeend"
													style="text-align: left; margin-left: 30px;">
													到:
												</label>
												<div class="controls">
													<div class="input-append">
														<input size="16" type="text"
															style="width: 179px; margin-left: -120px;"
															id="createDatetimeend" name="createDatetimeend"
															data-sType="lessThan" readonly>
														<span class="add-on"><i class="icon-calendar"
															onclick="WdatePicker({el:'createDatetimeend',dateFmt:'yyyy-MM-dd HH:mm:ss'})"></i>
														</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row" style="margin-left: -130px;">
									<div class="span4 offset1"
										style="margin-left: 20px; margin-top: -15px;">
										<div class="form-horizontal">
											<div class="control-group">
												<label class="control-label" for="inputEmail">
													分类名称:
												</label>
												<div class="controls">
													<input type="text" id="ScategoryName" name="categoryName"
														data-sType="like">
												</div>
											</div>
										</div>
									</div>
									<div class="span4"
										style="margin-top: -15px; margin-left: -10px;">
										<div class="form-horizontal">
											<div class="control-group">
												<label class="control-label" for="readFlag">
													创建人:
												</label>
												<div class="controls">
													<input type="text" id="ScreatePeople" name="createPeople"
														data-rule-required="true" data-rule-maxlength="10"
														data-msg-required="创建人不能为空！">
												</div>
											</div>
										</div>
									</div>
									<div class="span4 offset1"
										style="margin-left: 10px; margin-top: -15px;">
										<div class="form-horizontal">
											<div class="control-group">
												<label class="control-label" for="msgId">
													是否启用:
												</label>
												<div class="controls">
													<select id="testSelect" name="isDelete">
														<option id="kong"></option>
														<option id="qiyong">
															已启用
														</option>
														<option id="jinyong">
															已禁用
														</option>
													</select>
													<!--  <input type="text" id="SisDelete" name="isDelete"  data-rule-required="true" data-rule-maxlength="10"> -->
												</div>
											</div>
										</div>
									</div>
								</div>
							</form>
							<center>
								<button type="button" id="btn_search" class="btn"
									onclick="tableSearch()">
									<i class="icon-search"></i> 搜索
								</button>
								<button type="button" id="btn_clean" class="btn"
									onclick="cleanSearchForm()">
									<i class="icon-remove"></i> 清空
								</button>
							</center>
						</div>
					</div>
				</div>
				<!-- dataTable 部分 -->
				<div class="widget-box">
					<div class="widget-title">
						<span class="icon"> <i class="icon-th"></i> </span>
						<h5>
							信息
						</h5>
						<!--TODO 里面可加一些按钮 -->
						<div class="buttons">
							<a class="btn btn-mini" onclick="refresh()" href="javascript:;;"><i
								class="icon-refresh"></i> 刷 新</a>
						</div>
					</div>
					<div class="widget-content nopadding">
						<!-- 提示栏 -->
						<div class="alert alert-error" id="errorDiv"
							style="display: none;">
						</div>
						<div class="alert alert-success" id="successDiv"
							style="display: none;">

						</div>
						<table id="yijieshouxinxiGrid"
							class="table table-striped table-bordered nowrap">

						</table>

					</div>

				</div>
			</div>
			<!-- 表单部分 -->
			<div class="foot ">
				<div class="widget-box " style="margin-top: 0px">
					<!-- 功能栏 -->
					<div class="navbar-inner" style="padding-top: 10px">
						<a class="btn " onclick="manageCategory()"
								href="javascript:;;"><i class="icon-plus"></i> 管理模板</a>
						&nbsp;
						<button class="btn btn-primary" onclick="openAdd()">
							添加分类
						</button>
						&nbsp;
						<!-- <button class="btn btn-danger" onclick="doDelete()">
							删 除
						</button>
						&nbsp; -->
						<button class="btn null" onclick="doSubmit()">
							提交
						</button>
					</div>
					<!-- 表单项  update insert 先用一个表单 有需要就分开 -->
					<div class="widget-content container" id="yijieshouxinxiAdd"
						style="display: none; height: 300px">
						<form id="yijieshouxinxiAddForm">
							<div class="row" style="margin-left: -130px">
								<div class="span4 ">
									<div class="form-horizontal">
										<div class="control-group">
											<label class="control-label" for="inputEmail">
												分类名称:
											</label>
											<div class="controls">
												<input type="text" style="width: 650px;" id="categoryName" name="categoryName"
													data-rule-required="true" data-rule-maxlength="100"
													data-msg-required="分类名称不能为空！" />
											</div>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
					<div id="yijieshouxinxiEdit" class="widget-content container"
						style="display: none; height: 300px">
						<form id="yijieshouxinxiEditForm">
							<input type="hidden" name="id">
							<div class="row" style="margin-left: -130px">
								<div class="span4 ">
									<div class="form-horizontal">
										<div class="control-group">
											<label class="control-label" for="inputEmail">
												分类名称:
											</label>
											<div class="controls">
												<input type="text" id="categoryName" name="categoryName"
													data-rule-required="true" data-rule-maxlength="10"
													data-msg-required="分类名称不能为空！" />
											</div>
										</div>
									</div>
								</div>
								<div class="span4 offset1" style="margin-left: 40px;">
									<div class="form-horizontal">
										<div class="control-group">
											<label class="control-label" for="msgId">
												是否启用:
											</label>
											<div class="controls">
												<!-- <input type="text" id="NisDelete" name="isDelete"
													data-rule-required="true" data-rule-maxlength="10"> -->
												<select id="updateSelect" name="isDelete">
													<option id="qiyong">
														已启用
													</option>
													<option id="jinyong">
														已禁用
													</option>
												</select>
											</div>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<!-- 引入页 -->
	</body>
</html>
