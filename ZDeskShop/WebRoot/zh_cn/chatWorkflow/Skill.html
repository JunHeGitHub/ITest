<!DOCTYPE html>
<html lang="en">

	<head>
		<title>模块权限</title>

		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
		<meta http-equiv="description" content="this is my page">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">

		<!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
		<link rel="stylesheet" href="../../css/bootstrap.min.css" type="text/css"></link>
		<link rel="stylesheet" href="../../css/bootstrap-responsive.min.css" type="text/css"></link>
		<link rel="stylesheet" href="../../js/dataTables/css/DT_bootstrap.css" type="text/css"></link>
		<link rel="stylesheet"href="../../js/dataTables/css/jquery.dataTables.css" type="text/css"></link>
		<link rel="stylesheet" href="../../js/dataTables/css/font-awesome.css"></link>	
		<script type="text/javascript" src="../../js/jquery.js"></script>
		<script type="text/javascript" src="../../js/bootstrap.js"></script>
		<script type="text/javascript" src="../../js/common_utils.js"></script>
		<script type="text/javascript" src="../../js/dataTables/js/jquery.dataTables.js"></script>
		<script type="text/javascript" src="../../js/dataTables/js/dataTables.tableTools.min.js"></script>
		<script type="text/javascript" src="../../js/dataTables/js/DT_bootstrap.js"></script>
		<script type="text/javascript"  src="../../js/appCommonUtil.js"></script>
		<script type="text/javascript" src="../../js/appCommonCurdUtils_new.js"></script></head>
<style type="text/css">
	
	    tr td:first-child {
	        text-align: center;
	    }
	    
	    td{text-align: center;}
	    tr.active td:first-child:before {
	        content: "\f046"; /* fa-check-square-o */
	    }
	    
	    .title_center{
	      algin:center;
	    }
	   
	</style>
<script type="text/javascript">
	   var table=false;
	   var data="";
	   $(document).ready(function(){
		   	$('#tt').DataTable({
		        bPaginate: false, //翻页功能
				bLengthChange: false, //改变每页显示数据数量
				bFilter: false, //过滤功能
				bSort: true, //排序功能
				bInfo: false,//页脚信息
				bAutoWidth: true, //自动宽度
				data:data,
			    dom: 'TRlrtip',
				columns: [
              		{title:"技能组类型",data: "skType", defaultContent: '', width:'6%',orderable: true },
              		{title:"技能组id" ,data: 'skillType',width:'6%', visible: false},
              		{title:"技能组明文" ,data: 'createPeople',width:'6%', visible: false}
             	],
        		columnDefs: [ {
            		"searchable": false,
            		"orderable": false,
            		"targets": 0
        		} ],
		        oLanguage: {
					"sLengthMenu": "每页显示 _MENU_条",
					"sZeroRecords": "没有找到符合条件的数据",
					"sProcessing": "&lt;imgsrc=’./loading.gif’ /&gt;",
					"sInfo": "当前第 _START_ - _END_ 条　共计 _TOTAL_ 条",
					"sInfoEmpty": "没有记录",
					"sInfoFiltered": "(从 _MAX_ 条记录中过滤)",
					"sSearch": "搜索：",
					"oPaginate": {
								"sFirst": "首页",
								"sPrevious": "前一页",
								"sNext": "后一页",
								"sLast": "尾页"
					        }
		        }, tableTools: {
		             fnRowSelected: function ( nodes ) {
		               var index=nodes[0]._DT_RowIndex;	
		               skill = table.row(index).data();
		            },
		            sRowSelect:'single',
		            aButtons:[]
		        }
		   });
		   var table= $('#tt').DataTable();
		   var data = getSkill();
	       table.rows.add(data).draw(true);
	   });
//获取所有技能组类型
function getSkill(){
	var params={};
	var pdata={};
	var url="/"+PRJ_PATH+"/ZDesk/MHWorkflow" + "/"+  "getSkill.action";
	params.isPagination=false;
	params.isCookieDBId="true";
	ajaxFunction(url, params, false, function(data) {
		if(data&&data.data){
			pdata=data.data;
		}
	});
	return pdata;
}


//确认选择
function addSkill(){
	window.parent.addJnzType(skill.skType);
	window.parent.$.unblockUI();
	window.parent.closeDialog.close().remove();
} 


		</script>


	<body> 
		 <div class="row-fluid">
		     <button type="button" class="btn btn-primary"  onclick="addSkill()">确定</button>
		 </div>
		   <div class="row-fluid">
		     <div class="span3">
			  <table id="tt"  width="350px" class="table table-striped table-bordered nowrap" cellspacing="0">
			  </table>
			 </div>  
		  </div>
	</body>
</html>
