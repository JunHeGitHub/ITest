<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>事件驱动Demo</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

  </head>
  <script type="text/javascript" src="../js/jquery.js"></script>
  <script type="text/javascript">
       var param={
         "ok":{
           //绑定方法
           fn:"test",
           //绑定参数
           fp:"我是test方法hahaha",
           //绑定事件
           //event:"",
           //作用域
           scope:window
         },
         "ok2":{
           fn:"test2",
           fp:""
         }
       };
       //绑定事件方法
       function bindEvent(param){
          //遍历 param
          for(var domObj in param){
             //绑定参数    domObj是 绑定对象
             var domTarget=param[domObj];
             
             var domParam={};
             if(typeof domTarget=="string"){
                domParam.fn=domTarget;
                domParam.fp="";
             }else{
               domParam=domTarget;
             }
             //默认点击事件
             var domEvent=domParam.event!=undefined?domParam.event:"click";
             //默认作用域
             var scope=domParam.scope!=undefined?domParam.scope:window
             //绑定事件方法
             $("#"+domObj).bind(domEvent,domParam,function(event){
                  var pdata=event.data;
                  var fp=pdata.fp;
                  var fn=pdata.fn;
                  scope[fn](fp);
             });
          } 
       }
       
       function test(fp){
        
         alert(fp);
       }
       function test2(){       
         alert("fp");
       }
       
       $(function (){
       
         bindEvent(param);
       })
  </script>
  <body>
    <button id="ok">ok</button>
    <button id="ok2">ok2</button>
  </body>
</html>
