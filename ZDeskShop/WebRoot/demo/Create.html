<!DOCTYPE HTML"> 
<html>
	<head>
		<title>动态创建下拉</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="../css/bootstrap-responsive.min.css" type="text/css"/>
<link rel="stylesheet" href="../js/bootstrap-datetimepicker/css/datepicker.css" type="text/css"></link>

<link rel="stylesheet" href="../js/dataTables/css/jquery.dataTables.css" type="text/css"/>
<!--[if lt IE 9]>
<script type="text/javascript" src="../js/html5shiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="../js/dataTables/css/DT_bootstrap.css" type="text/css"/>
<link rel="stylesheet" href="../js/dataTables/css/dataTables.tableTools.min.css" type="text/css"/>
<link rel="stylesheet" href="unicorn.main.css" type="text/css"/>
<link rel="stylesheet" href="../js/dataTables/css/font-awesome.css"/>
<link rel="stylesheet" href="../js/dataTables/css/dataTables.colVis.min.css" type="text/css"/>

<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/bootstrap.js"></script>
<script type="text/javascript" src="../js/dataTables/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="../js/dataTables/js/dataTables.colReorder.js"></script>
<script type="text/javascript" src="../js/dataTables/js/dataTables.colVis.js"></script>
<script type="text/javascript" src="../js/dataTables/js/dataTables.tableTools.min.js"></script>

<script type="text/javascript" src="../js/common_utils.js"></script>
<script type="text/javascript" src="../js/appCommonCurdUtils_new.js"></script>
<script type="text/javascript" src="../js/dataTables/js/DT_bootstrap.js"></script>

<script type="text/javascript" src="../js/bootstrap-datetimepicker.min.js"></script>

<script type="text/javascript" src="../js/log2.js"></script>

<style type="text/css" class="init">
    td.red {
        font-weight: bold;
        color: red;
    }
    .form-inline .btn-group {
        display: none;
    }

    /*解决时间控件在模式对话框中的显示问题*/
    .datetimepicker{z-index:99999 !important;}
    .bootstrap-datetimepicker-widget {
        z-index:99999 !important;
    }


/* 临时解决datatable单元格变形问题  为保证宽度不变，ie兼容模式显示效果为换行 其它浏览器省略号 */
  需要通过只显示部分原文解决此问题*/  
  
    .dataTable th, .dataTable td {
        width: 120px;
        max-width: 120px;
        /*min-width: 120px;*/
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

	



    /*tr td:first-child {*/
    /*text-align: center;*/
    /*}*/
    /* fa-square-o */
    /*tr td:first-child:before {*/
    /*content: "\f096";*/
    /*font-family: FontAwesome;*/
    /*}*/

    /*tr.active td:first-child:before {*/
    /*content: "\f046"; *//* fa-check-square-o */ 
    /*}*/
</style>







<script type="text/javascript">  
	
	// Register an API method that will empty the pipelined data, forcing an Ajax
	// fetch on the next draw (i.e. `table.clearPipeline().draw()`)
	$.fn.dataTable.Api.register( 'clearPipeline()', function () {
	    return this.iterator( 'table', function ( settings ) {
	        settings.clearCache = true;
	    } );
	} );
	 
	var tableName = "Z_DICITEM";   //表名
	
	var	OpCurdStatus="false";  // 当前操作类型
	var oldKeyValue = "";  // 修改操作时，判断输入的值是否与打开时的值一致
	
	
		var vPar = new Object();  //查询列
			vPar.type="type"; // 类型
			vPar.unKey="unKey"; //key
			vPar.id="id";  // 序列号
			vPar.param1="param1"; // 参数1
			vPar.param2="param2"; //参数2
			vPar.unValue="unValue"; //值
			vPar.typeOrder="typeOrder"; //排序字段
	
	
	
	
	$(document).ready(function() { 
		var table =	$('#dataTable').DataTable({
	        //滚动条
	        //scrollY: 500,
	        //scrollX: false,
	        //延迟加载
	         deferRender: true, 
	        //开启服务端分页
	         processing: false,
	         serverSide: true,
	         //服务器端分页
	         ajax: function (data, callback, settings) {
	                var params=commonFrom2Json("searchForm");
				    
				    params.tableName=tableName;
				    params.rows=settings._iDisplayLength;
				    params.offset=settings._iDisplayStart;
				    commonSelect(params,true,function(data){
				                if(data&&data.data){
				                  var pdata={};
				                  //数据
				                  pdata.data=data.data;
				                  //总条数
				                  pdata.recordsTotal=data.total;
				                   //过滤没有使用到总条数
				                  pdata.recordsFiltered=data.total;
				                  // 代表第几次画页面  如pdata.draw 不能删 如删掉不会翻页  
				                  pdata.draw=settings.iDraw;
				                  callback(pdata);
				                }
				    });
			 
			 },
			pagingType: "full_numbers",
	        pageLength: $("#showNumbers").val(), //获取页面上的当前显示多少数据
	        bPaginate: true, //翻页功能
	        bLengthChange: false, //改变每页显示数据数量
	        bFilter: true, //过滤功能
	        bSort: true, //排序功能
	        bInfo: true,//页脚信息
	        bAutoWidth: true, //自动宽度
	        sPaginationType: "bootstrap",//分页样式
	        dom: 'TRlrtip',
	        columns: [
	              {title:"序号",data: null, defaultContent: '',  "orderable": false ,"searchable":false ,  "targets":0}, 
	              {title:"id" ,data: 'id', visible: false},
	              {title:"key" ,data: 'unKey', visible: true},
	              {title:"值" ,data: 'unValue', visible: true}, 
	              {title:"流程名" ,data: 'param1', visible: true},
	              {title:"节点名" ,data: 'param2', visible: true},
	              {title:"类型" ,data: 'type', visible: true},
	              {title:"显示顺序" ,data: 'typeOrder', visible: true},
	              {
	                    title:"操作",
	                    "sClass": "center",
	                    "bSearchable": false,
	                    "defaultContent": "<button class=\"editData\" >编辑</button>|<button class=\"delData\"  >删除</button>",
	                    "bStorable": false
	                }
	               ],
	        oLanguage: {
	             infoFiltered:function(){
	             	
	             },
	            "sLengthMenu": "每页显示 _MENU_条",
	            "sZeroRecords": "没有找到符合条件的数据",
	            "sProcessing": "&lt;imgsrc=’./loading.gif’ /&gt;",
	            "sInfo": "当前第 _START_ - _END_ 条　共计 _TOTAL_ 条",
	            "sInfoEmpty": "没有记录",
	            "sInfoFiltered": "(从 _MAX_ 条记录中过滤)",
	            "sSearch": "搜索：",
	            "oPaginate": {
	                "sFirst": "首页",
	                "sPrevious": "前一页",
	                "sNext": "后一页",
	                "sLast": "尾页"
	            }
	        }, tableTools: {
	            fnRowSelected: function ( nodes ) {
	            },
	            sRowSelect:'os',
	            
	            aButtons: []
	        },
	        
	    });
	    //绑定事件 on
	  //  var table= $('#dataTable').DataTable();
	
		
	   $('#dataTable').DataTable().on( 'order.dt search.dt', function () {
	        $('#dataTable').DataTable() .column(0, {order:'applied',search:'applied'}).nodes().each( function (cell, i) {
	            cell.innerHTML = i+1;
	        } );
	    })
	
		// 点击dialog背景不关闭
		$('#addModal').modal({ 
		        backdrop: 'static',
		        show:false,
		        keyboard: false
		 });
		$('#searchModal').modal({
		        backdrop: 'static',
		        show:false,
		        keyboard: false
		});
	
	
	
		/**
		*搜素按钮
		*/
		$(".Search").on('click',function(){
			 var paramTmp={};
	         paramTmp["id"]="searchModal";
	         paramTmp["isClear"]="true";
	         setPanelVal(paramTmp);
			$("#searchModal").modal('show'); 
		});
		// 搜索保存按钮
		$(".searchSubmitBtn").on('click',function(){
				var data=doSearch();
        		$('#searchModal').modal('hide');
		});
		//搜索关闭按钮
		$(".searchCloseBtn").on('click',function(){
			table.$('tr.selected').removeClass('selected');
			$("#searchModal").modal('hide');
		});
		
	
		/**
		*添加按钮
		*/	
		$(".Add").on('click',function(){
			 var paramTmp={};
	         paramTmp["id"]="addModal";
	         paramTmp["isClear"]="true";
	         setPanelVal(paramTmp);
	         OpCurdStatus = "add";  
	         $("#addModal").modal('show');
		}); 
		
		//添加、修改窗口保存按钮
		$(".AddSubmitBtn").on('click',function(){
			
			if(OpCurdStatus == "add"){
                 doAdd();
			
			}else if(OpCurdStatus == "edit"){
				var tableTmp= $('#dataTable').DataTable();
                var selRowData=tableTmp.row('.selected').data();
                doEdit(selRowData.id);
			}
			OpCurdStatus ="false";
		});
		
		
		//添加、修改窗口关闭按钮
		$(".addCloseBtn").on('click',function(){
			$("#addModal").modal('hide');
		});
		
				
	
	/**
	*点击修改、删除按钮操作
	*/
	
		$('#dataTable tbody').on( 'click', 'button', function (obj) {
	        var selTr=$(this).parents('tr');
	        table.$('tr.selected').removeClass('selected');
	        $(selTr).addClass('selected');
	
	        log.debug(" edit or delete click set selected"+getSelRowNo());
	
	        var data = table.row( selTr ).data();
	        if (obj.target.className=="editData"){
	            var paramTmp={};
	            paramTmp["id"]="addModal";
	            paramTmp["data"]=data;
	            setPanelVal(paramTmp);
	            OpCurdStatus="edit";
	            oldKeyValue = $(".unKey").val();  //修改判断输入的值是不是打开时的值
	            $('#addModal').modal('show');
	        }else if (obj.target.className=="delData"){
	        	var tableTmp= $('#dataTable').DataTable();
                var selRowData=tableTmp.row('.selected').data();
	                 doDelete(selRowData.id);
	        }
        });
        
        
        /**
        *  自定义显示列
        */
         var colvis = new $.fn.dataTable.ColVis($("#dataTable"),{ buttonText: '自定义显示列',exclude: [ 0 ,1] });
  		 $(colvis.button()).insertBefore('#yijieshouxinxiColvis');
        
        
        /*
        *测试方法1；
        */
        $(".test1").on('click',function(){
        	createSelect();
        });
        
       
        /*
	     *测试方法2；
	     */
         $(".test2").on('click',function(){
         	// createBtn('undefined'); 
        	createBtn('aa'); 
        });
        
});	



function doAddModalClean() {
    log.debug("doAddModalClean begin del selected"+getSelRowNo()); 
    var tableData= $('#dataTable').DataTable();
//            解决不了全部选择状态的问题，时间关系，只能禁用对话框关闭，加关闭按钮了 
    tableData.$('tr.selected').removeClass('selected');
    $('#addModal').modal('hide');
};




//增加方法
function doAdd(){
    var params={};
    var cValues=zkm_getHtmlFormJsons("addForm");
    
    params.columnValues=cValues;
    params.tableName=tableName; 
    //使用增
    commonInsertOrUpdate(params,true,function(data){
        try{
                    if (data) {
                        var tableTmp=$("#dataTable").DataTable(); 
                        if(data.success){
                            try{
                                params.columnValues.id=data.idValues.id;
                                tableTmp.row.add(params.columnValues).draw();
                            }catch(e){
                                logErr("Exception need see log "+e.name + ": " + e.message);
                            }
                            $('#addModal').modal('hide');
                        }else{
                            logErr("Exception add failed  "+data +" "+("Items" in data));
                        }
                    }
                    doAddModalClean();
                }catch(exx){
                    logErr("Exception need see log "+exx.name + ": " + exx.message);
                    doAddModalClean();
                }
    
    });

}



function doEditModalClean(){
    log.debug("doEditModalClean begin del selected"+getSelRowNo());
    var tableData= $('#dataTable').DataTable();
//            解决不了全部选择状态的问题，时间关系，只能禁用对话框关闭，加关闭按钮了
    tableData.$('tr.selected').removeClass('selected');
    $('#addModal').modal('hide');
};



/***
 * @TODO
 * 通用，调试完成后分文件，不要加Velocity代码
 */

function doEdit(pVars){
   var params={};
    var cValues=zkm_getHtmlFormJsons("addForm");
    //主键的值
    cValues.id=pVars;
    params.columnValues=cValues;
    params.tableName=tableName;
    //如更改不是id 需定义 params.primarykey
    commonUpdate(params,true,function(data){
   
       try{
                    var tableTmp=$("#dataTable").dataTable();
                     var tableDataTmp=$("#dataTable").DataTable(); 
                    if(data.success){
                        try{
//                            var rowIndex=tableDataTmp.row('.selected').row().index();
//                            row indx在某些情况下不靠谱，调整为直接传选中行
                            var rowSelTr=tableDataTmp.$('tr.selected');
                            tableTmp.fnUpdate(params.columnValues, rowSelTr );
                        }catch(e){
                            logErr("Exception need see log "+e.name + ": " + e.message);
                        }
                        $('#addModal').modal('hide');
                    }else{
                        logErr("Exception edit failed  "+data +" "+("Items" in data));
                    }
                     doEditModalClean();
                }catch(ex){
                    doEditModalClean();
                    logErr("doEdit 2222 Excep "+ex.name + ": " + ex.message);
                }
   });
}





/**
*	删除方法
*/

	
	function doDelete(pVars){
	
	   var params={};
	   params.tableName=tableName;
	   //主键默认为id  如不为id 加上params.primarykey
	   params.columnValues=pVars;
	   
	   commonDelete(params,true,function(data){
	         if (data) {
	//                数据不是以Items组织的情况,可以做多个判断
	                    var tableTmp=$("#dataTable").DataTable();
	                    if(data.success){
	                        try{
	                            tableTmp.row('.selected').remove().draw(false);
	                        }catch(e){
	                            logErr("Exception del need see log "+e.name + ": " + e.message);
	                        }
	                    }else{
	                        logErr("Exception del failed  "+data +" "+data.retcode);
	                    }
	                }
	       
	   });
	
	}



	/**
	*   查询方法	
	*/
	function doSearch(pVars){
	   var tableTmp=$("#dataTable").DataTable();
	   tableTmp.draw(true);
	}

	
	
	/**
		select 下拉事件传 截取后的字符，参数品在value里面；
	*/
	
	function abc(p1){
			alert(p1);
			//  alert(p1+ "-" + p2);
	}
	
		
	//根据key调用对应的方法
	function createBtn(key){ 
	
		if(!BIsNullVal(key)){
			var obj = new Object();  // 查询列对应的值 
			    var params ={};
				obj.unKey=key; //查询值
				params.tableName = tableName; 
				params.columnValues = obj;
				params.like = vPar; //查询字段
				commonSelect(params,true,function(data){
	       		 try{
	                    if (data.total > 0) { 
	                       var strValue ="'"+ data.data[0].param1 + "','" + data.data[0].param2+"'" ;  	
	                    	// 此方法测试用，弹出2个参数
	                    	btnClick(strValue);
	                    	
	                    }
	                }catch(exx){
	                   logErr("Exception need see log "+exx.name + ": " + exx.message);
	                    
	                }
	   		 });
		}else{
			alert("参数错误！！");
			return;
		}
	}
	
	function btnClick(v){
		alert(v);
	}
		
	function logErr(errMsg) {
		  log.debug(errMsg);
	};
	
	//生成下拉菜单
	function createSelect(){
		var params ={};
			var obj = new Object();  // 查询列对应的值
			obj.type="list"; //查询值
			params.tableName = tableName; 
			params.columnValues = obj;
			params.orderBy = "typeOrder";
			params.like = vPar; //查询字段
			commonSelect(params,true,function(data){
       		 try{
                    if (data) { 
                    //测试生成代码用
                 /*   var selStr   = "<div class='btn-group'>" +
                       		 "<a class='btn dropdown-toggle btn-primary btn-small' data-toggle='dropdown' href='#'> " +
							 "	 测试 " +
							 "   <span class='caret'></span> " +
						     "</a>";  
						     
                        selStr += "<ul class='dropdown-menu'>";  */ 
                     var   selStr = "<ul class='dropdown-menu'>"; 
                       
						for(var i=0;i<data.total;i++){     
						 	var strValue ="\"'"+ data.data[i].param1 + "','" + data.data[i].param2+"'\"" ;  
							// var strValue ="'"+ data.data[i].param1 + "','" + data.data[i].param2+"'" ;   
							 selStr += "<li> <a tabindex='-1' href='#' onclick=abc(" +strValue+  ")>    "  +  data.data[i].unValue+"</a></li>"; 
						}  
						
						selStr +=" </ul>";
						 
					// 	selStr +="</div>";   //测试生成代码
						$("body").append(selStr);  
                    }
                }catch(exx){
                   logErr("Exception need see log "+exx.name + ": " + exx.message);
                    
                }
   		 });
	}
	
	/**
	*	key值失去焦点验证唯一性
	*/
	function validataOnly(v){
		$(".valKey").html("") ; //每次验证时都清空span值
		if(!BIsNullVal(v)){
			if(OpCurdStatus == "edit" &&  oldKeyValue ==  v){
				return;
			}
				var params ={};
				var obj = new Object();  // 查询列对应的值
				obj.unKey= v; //查询值 
				params.tableName = tableName; 
				params.columnValues = obj;
				params.like = vPar; //查询字段
				commonSelect(params,true,function(data){
	       		 try{
	                    if (data.total > 0) {
	                    	$(".valKey").html("该值已存在") ;
	                    	// 因id=unKey 存在多个，所以给添加和修改的输入框加了此样式 
	                    	// 用样式清空输入框
	                    	$(".unKey").val("");  
	                    }else{
	                    	$(".valKey").html("") ;
	                    }
				 }catch(exx){
	                  logErr("Exception need see log "+exx.name + ": " + exx.message);
	              }
				});
		}else{
			$(".valKey").html("") ;
		}
	}
	
	
	function setPanelVal(pVars){
	    $('#'+pVars.id+' :input').each(function(index,obj) {
	        var type = obj.type;
	        var tag = obj.tagName.toLowerCase();
	      if(("isClear" in pVars) && pVars.isClear=='true'){
	            if (type == 'text' || type == 'password' || tag == 'textarea')
	                $(obj).val('');
	            else if (type == 'checkbox' || type == 'radio')
	                $(obj).attr('checked',false);
	            else if (tag == 'select')
	                $(obj).attr('selectedIndex',-1);
	        }else{
	            var vTmp=pVars.data[this.name];
	            if(BIsNullVal(vTmp)){
	                vTmp='';
	            }
	            if (type == 'text' || type == 'password' || tag == 'textarea')
	                $(obj).val(vTmp);
	            else if (type == 'checkbox' || type == 'radio'){
	                $(obj).attr('checked',vTmp==''?false:vTmp);
	            }
	            else if (tag == 'select'){
	                $(obj).attr('selectedIndex',vTmp==''?-1:vTmp);
	            }
	        }
	    });
	}
	
	
	function BIsNullVal(value) {
	    return typeof(value)=="undefined" || value==null ||  (typeof(value)=='string' &&(value=="undefined" || value=='' || value=='null' )) ||  (typeof(value)=='boolean' &&value==false  );
	};
	
	function commonFrom2Json(id){
		   var params={};
		   var lessThan={};
		   var moreThan={};
		   var like={};
		   var equal={};
		   var columnValues={};
		   params.lessThan=lessThan;
		   params.moreThan=moreThan;
		   params.like=like;
		   params.equal=equal;
		   params.columnValues=columnValues;
		   $('#'+id+' :input').each(function(index,obj) {
		        var type = obj.type;
		        var tag = obj.tagName.toLowerCase();
		        var $obj=$(obj);
		        if (type == 'text' || type == 'password' || tag == 'textarea'||tag == 'select'){
		            var sType=$obj.attr('data-sType');
		            if(sType=="equal"){
		              equal[$obj.attr('name')]=$obj.attr('name');
		            }else if(sType=="moreThan"){
		               var  nameTmp=$obj.attr('name');
		               nameTmp= nameTmp.substring(0,nameTmp.lastIndexOf('timebegin"'));
		               moreThan[$obj.attr('name')]=nameTmp;
		            }else if(sType=="lessThan"){
		               var  nameTmp=$obj.attr('name');
		               nameTmp= nameTmp.substring(0,nameTmp.lastIndexOf('timeend'));
		               lessThan[$obj.attr('name')]=nameTmp;
		            } else{
		                 //默认为like
		                 like[$obj.attr('name')]=$obj.attr('name');
		            }
		            columnValues[$obj.attr('name')]=$obj.val();
		            
		          }  
		      //TODO checkbox   处理
		    });
		   return params;
		}	
	
	
	//每页显示条数
function setPageNum(obj){
    var table=$('#dataTable').DataTable();
   	 table.page.len(obj.value).draw();
}

function getSelRowNo() {
    try {
        var tableDataTmp=$("#dataTable").DataTable();
        return " rowNO : "+tableDataTmp.row('.selected').row().index();
    }catch(e){
        logErr("Exception getSelRowNo need see log "+e.name + ": " + e.message); 
    }
};	
</script>
</head>

	<body>
		
		<div  style="margin:18px 25px 0px 25px;">
			<a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn Search pull-left" ><i class="icon-search"></i> 搜索</a>
            <a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn Add pull-left" ><i class="icon-book"></i>添加</a>
			
			<a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn test1 pull-left" >测试方法1</a>
            <a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn test2 pull-left" >测试方法2</a>
				
			<div id="yijieshouxinxiColvis"></div>
			
		    <select name="showNumbers" id="showNumbers" style="width:70px;margin-top: 5px;margin-right: 10px;" class="pull-right" onchange="setPageNum(this)">
		        <option selected="selected" value="10">
		            10
		        </option>
		        <option value="30" >
		            30
		        </option>
		        <option value="50" >
		            50
		        </option>
		        <option value="100" >
		            100
		        </option>
		        <option value="200" >
		            200
		        </option>
		        <option value="500" >
		            500
		        </option>
		        <option value="1000" >
		            1000
		        </option>
		    </select>
		    <span class="pull-right" style="margin:8px 10px 0px 10px;">每页显示:</span>
		</div>
		
		<table width="100%" style="margin-bottom: 0px;" class="table table-striped table-bordered"
       		id="dataTable" cellspacing="0">
	   </table>


<div id="searchModal" class='container-fluid modal hide' style='padding: 0px;' role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class='row-fluid '  >
        <div class='span12' style='padding: 10px;'>
            <br>
                <form id="searchForm">
                    <div class='span12' style="display:none";> 
                        <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >id:</span>
                        <input type="text" isDataId="true" id="id" name="id" >
                    </div>
                     <div class='span12' >
                           <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >key值:</span>
                           <input type="text" style="height:30px;" id="unKey" name="unKey">
                     </div>
                    <div class='span12'>
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >显示值:</span>
                            <input type="text"  style="height:30px;" id="unValue" name="unValue">
                        </div>
                     <div class='span12'>
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >流程名:</span>
                             <input type="text" style="height:30px;" id="param1" name="param1" >
                        </div>
                    <div class='span12'>
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >节点名:</span>
                            <input type="text" style="height:30px;" id="param2" name="param2"  >
                        </div>
                    <div class='span12' >
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >类型:</span>
                             <input type="text" id="type" style="height:30px;"  name="type" >
                    </div>
                    <div class='span12' >
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >显示顺序:</span>
                            <input type="text" style="height:30px;" onkeyup="javascript:this.value=this.value.replace(/[^\d]/g,'');"   id="typeOrder" name="typeOrder"  >
                    </div>
                </form>
            <a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn searchSubmitBtn" ><i class="icon-book"></i>提交</a>
            <a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn searchCloseBtn" ><i class="icon-book"></i>关闭</a>
        </div>
    </div>
</div> 



<div id="addModal" class='container-fluid modal hide' style='padding: 0px;' role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class='row-fluid '  >
        <div class='span12' style='padding: 10px;'>
            <br>
                <form id="addForm" method="get">
                    <div class='span12' style="display:none";> 
                        <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >id:</span>
                        <input type="text" isDataId="true" id="id" name="id" >
                    </div>
                     <div class='span12'  >
                           <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >key值:</span>
                           <input type="text" style="height:30px;" class="unKey" id="unKey" name="unKey" placeholder="请输入唯一key值" onblur="validataOnly($(this).val());" >
                     	   <span style="color:red;" class="valKey"><span>
                     </div>
                    <div class='span12'>
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >显示值:</span>
                            <input type="text" style="height:30px;" id="unValue" name="unValue" placeholder="请输入显示值">
                        </div>
                     <div class='span12'>
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >流程名:</span>
                             <input type="text" style="height:30px;" id="param1"  name="param1"  placeholder="请输入流程名">
                        </div>
                    <div class='span12'>
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >节点名:</span>
                              <input type="text" style="height:30px;" id="param2" name="param2" placeholder="请输入节点名" >
                        </div>
                    <div class='span12' >
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >类型:</span>
                             <input type="text" style="height:30px;" id="type" name="type" placeholder="请输入类型" >
                    </div>
                     <div class='span12' >
                            <span class="span5" style="padding-top: 8px;padding-bottom: 4px;" >显示顺序:</span>
                            <input type="text" style="height:30px;" onkeyup="javascript:this.value=this.value.replace(/[^\d]/g,'');"  id="typeOrder" name="typeOrder" placeholder="请输入显示顺序" >
                    </div>
                </form>
            <a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn AddSubmitBtn" ><i class="icon-book"></i>提交</a>
            <a href="javascript:;;" role="button" style="margin-top: 5px;margin-right: 10px;" class="btn addCloseBtn" ><i class="icon-book"></i>关闭</a>
        </div>
    </div>
</div>

		
	</body>
</html>
