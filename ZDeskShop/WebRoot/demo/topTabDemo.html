<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>topTab测试</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css"></link>
		<link rel="stylesheet" href="../css/bootstrap-responsive.min.css" type="text/css"></link>
		<link rel="stylesheet" href="../js/dataTables/css/jquery.dataTables.css" type="text/css"></link>
		<link rel="stylesheet" href="../js/comTopTab/comTopTab.css" type="text/css"></link>
		<style>
		*{
			 margin:0;
			 padding:0;
			}
			html,body {
				padding:0 !important;
				padding:85px 0;
				width:100%;
				height:100%;
				overflow:hidden;
				background-color: yellow;
			}
			#contentDIV{
				position: absolute!important;
			 	top:40px!important;
			 	height:auto!important;
			 	position: relative;
			 	top:-40px; 
			 	height:100%;
			 	bottom:80px;
			 	width:100%;
			 	white-space: nowrap;
				text-overflow: ellipsis;
				background-color: #da0;
				overflow: hidden;
				border-bottom: 1px solid #ccc;
				border-top: 1px solid #ccc;
			}
			.usergif{
				background-image: url(../img/user.gif) !important;
			}
		</style>
		<script type="text/javascript" src="../js/jquery.js"></script>
		<script type="text/javascript" src="../js/jquery.mousewheel.min.js"></script>
		<script type="text/javascript" src="../js/jquery.dragsort.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/common_utils.js"></script>
		<script type="text/javascript" src="../js/comTopTab/comTopTab.js"></script>
		
		<script type="text/javascript">
		
			$(document).ready(function(){
				$(window).bind("resize",function(){
					//注册windows事件，调整topTab content内容的大小
					changeTopTabHeight();
				});
				$(window).resize();
			});
			//调整内容大小自适应页面大小
			function changeTopTabHeight(){
				var re=U_reCssHeight({
					src:'contentDIV',
					srcType:'id',
					dist:'tab-content',
					fix:'-40'
				});
				var re=U_reCssHeight({
					src:'contentDIV',
					srcType:'id',
					distParent:'tab-content',
					distParentType:'css',
					dist:'active',
					fix:'-40'
				});
			}
			//添加一个有关闭按钮的 div tab
			function add_test_close(){
				var p={
					//容器类型[div iframe] 默认为 iframe
					contentType:'div',
					//contentType为iframe时src 为iframe时必填
					iframeSrc:'',
					//contentType为div时div的内容 为DIV是必填
					divContent:'test test -- noclose',
					//生成的标签控件ID,若不指定ID，则按规则生成，规则：tabComId + genTabIdNum
					tabId:'',
					//生成的标签名称
					tabName:'test--1',
					//标签控件的ID
					tabComId:'content_left_tab',
					//标签控件容器ID
					tabComContentId:'content_left_tab_content',
					//生成的标签是否可以被关闭 默认为有关闭按钮
					hasClose:true,
					//关闭标签的关闭模式[remove hide] 移除与隐藏 默认为remove
					closeMode:'remove',
					//生成的标签是否即时激活 默认为true
					hasActive:false,
					//对应bootstarp的show事件
					show:'',
					//对应bootstarp的shown事件 
					shown:changeTopTabHeight,
					tabStyle:''
				};
				var re=com_bootStarpTab_addTab(p);
			}
			//添加一个无关闭按钮的div tab
			function add_test_noclose(){
				var p={
					//容器类型[div iframe]
					contentType:'div',
					//contentType为iframe时src
					iframeSrc:'',
					//contentType为div时div的内容
					divContent:'test close',
					//生成的标签控件ID,若不指定ID，则按规则生成，规则：tabComId + genTabIdNum
					tabId:'',
					//生成的标签名称
					tabName:'test--1',
					//标签控件的ID
					tabComId:'content_left_tab',
					//标签控件容器ID
					tabComContentId:'content_left_tab_content',
					//生成的标签是否可以被关闭
					hasClose:false,
					//关闭标签的关闭模式[remove hide] 移除与隐藏
					closeMode:'remove',
					//生成的标签是否即时激活
					hasActive:false,
					//对应bootstarp的show事件
					show:'',
					//对应bootstarp的shown事件
					shown:changeTopTabHeight,
					tabStyle:''
				};
				var re=com_bootStarpTab_addTab(p);
			}
			//添加一个有闭按钮的iframe tab 
			function add_test_2(){
				var p={
					iframeSrc:'topTabDemoIfr.html',
					//生成的标签控件ID,若不指定ID，则按规则生成，规则：tabComId + genTabIdNum
					tabId:'testFsrc-hide',
					//生成的标签名称
					tabName:'testFsrc-hide',
					//标签控件的ID
					tabComId:'content_left_tab',
					//标签控件容器ID
					tabComContentId:'content_left_tab_content',
					//生成的标签是否可以被关闭
					hasClose:true,
					//对应bootstarp的shown事件
					shown:changeTopTabHeight,
					tabStyle:'width:100px'
				};
				var re=com_bootStarpTab_addTab(p);
			}
			
			//添加一个指定ID的 tab 关才模式为HIDE
			function add_test_3(){
				var p={
					iframeSrc:'topTabDemoIfr.html',
					//生成的标签控件ID,若不指定ID，则按规则生成，规则：tabComId + genTabIdNum
					tabId:'testFsrc',
					//生成的标签名称
					tabName:'test--Fsrc',
					//标签控件的ID
					tabComId:'content_left_tab',
					//标签控件容器ID
					tabComContentId:'content_left_tab_content',
					//生成的标签是否可以被关闭
					hasClose:true,
					closeMode:'hide',
					//对应bootstarp的shown事件
					shown:changeTopTabHeight,
					tabStyle:'width:100px'
				};
				var re=com_bootStarpTab_addTab(p);
			}
			
			//为一个tab设置图标
			function tabIcoAdd(){
				var e=document.getElementById("testFsrc");
				if(e==undefined)return;
		 		var p={
		 			tabId:'testFsrc',
		 			//定义的css class
		 			icoCss:'usergif',
		 			//开启闪烁
		 			flashing:true
		 		};
		 		com_bootStarpTab_setIco(p);
		 	}
		 	//停止闪烁
		 	function tabIcoStop(){
		 		var e=document.getElementById("testFsrc");
				if(e==undefined)return;
		 		com_bootStarpTab_stopFlashing('testFsrc');
		 	}
		 	
		 	//改变tab文字
		 	var change=1;
		 	function tabSetText(){
		 		var e=document.getElementById("testFsrc");
				if(e==undefined)return;
		 		if(change==1){
		 			com_bootStarpTab_setText('testFsrc',"改变文字");
		 			change=0;
		 		}else{
		 			com_bootStarpTab_setText('testFsrc',"改变文字222");
		 			change=1;
		 		}
		 	}
		 	//增加一个带图标的按钮
		 	function addIcoTab(){
		 		var p={
					iframeSrc:'topTabDemoIfr.html',
					//生成的标签控件ID,若不指定ID，则按规则生成，规则：tabComId + genTabIdNum
					tabId:'testIcoIFr',
					//生成的标签名称
					tabName:'testIcoIFr',
					//标签控件的ID
					tabComId:'content_left_tab',
					//标签控件容器ID
					tabComContentId:'content_left_tab_content',
					//生成的标签是否可以被关闭
					hasClose:true,
					closeMode:'hide',
					//对应bootstarp的shown事件
					shown:changeTopTabHeight,
					tabStyle:'width:100px',
					icoSettings:{
						icoCss:'usergif'
					}
				};
				var re=com_bootStarpTab_addTab(p);
		 	}
		</script>
	</head>
	<body id="body__">
		<button onclick="add_test_close()">可关闭添加</button>
		<button onclick="add_test_noclose()">不可关闭添加</button>
		<button onclick="add_test_2()">添加ifr</button>
		<button onclick="add_test_3()">添加ifr hide</button>
		<button onclick="tabIcoAdd()">为ifr hide增加tab图标(闪烁)</button>
		<button onclick="tabIcoStop()">ifr hide停止闪烁</button>
		<button onclick="tabSetText()">改变ifr hide文字</button>
		<button onclick="addIcoTab()">增加一个带ico的tab</button>
		<div id="contentDIV">
			<div class="app_css_index_content_left">
				<div class="com_css_tomTab_tabBar">
					<div class="com_css_topTab_leftButton">
						<a href="javascript:void(0)"
							onclick="com_bootStarpTab_moveLeft('content_left_tab')"><i
							class="icon-chevron-left"></i>
						</a>
					</div>
					<div class="com_css_topTab_rightButton">
						<a href="javascript:void(0)"
							onclick="com_bootStarpTab_moveRight('content_left_tab')"><i
							class=" icon-chevron-right"></i>
						</a>
					</div>
					<div class="com_css_topTab">
						<ul class="nav nav-tabs" id="content_left_tab">
							<li id='testxx' class="active">
								<a href="#testxx_content" data-toggle="tab">首页xxxxxxxx</a>
							</li>
							<li>
								<a href="#profile" data-toggle="tab">
									<span style="width: 100px">Profile111111111111111111111</span>
									<i class="icon-remove" onclick="alert(2)"></i>
								</a>
							</li>
							<li>
								<a href="#messages" data-toggle="tab">Messages</a>
							</li>
							<li>
								<a href="#settings" data-toggle="tab">Settings</a>
							</li>
							<li id="aaaaaaTest">
								<a href="#p11111" data-toggle="tab">
									<span style="width: 100px">p11111</span>
									<i class="icon-remove" onclick="com_bootStarpTab_removeTab_def('aaaaaaTest','remove')"></i>
								</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="tab-content" id="content_left_tab_content">
					<div class="tab-pane active" style="background-color: blue;"id="testxx_content">
						111111111111111
						<br>
						333333333333333
						<br>
					</div>
					<div class="tab-pane" id="profile" style="background-color: #eee">
						profile
					</div>
					<div class="tab-pane" id="messages">
						messages
					</div>
					<div class="tab-pane" id="settings">
						settings
					</div>
					<div class="tab-pane" id="p11111">
						settings
					</div>
				</div>
			<div>
		</div>
	</body>
</html>
